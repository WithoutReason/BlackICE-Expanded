focus_tree = {
	id = KMT_focus
	
	country = {
		factor = 0
		
		modifier = {
			tag = CHI
			add = 50
		}
	}
	
	default = no
	
	continuous_focus_position = { x = 50 y = 1100 }
	
	########## WARLORD / UNIFY CHINA BRANCH ##########
	
	focus = {
		id = KMT_internal_stability
		icon = GFX_goal_chi_internal_stab
		mutually_exclusive = { focus = KMT_external_defense }
		x = 2
		y = 0
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_POLITICAL }
		
		available = {
			AND = {
				NOT = { has_war_with = JAP }
				OR = {
					country_exists = SHX
					country_exists = YUN
					country_exists = XSM
					country_exists = GXC
					country_exists = PRC
					country_exists = YUT
					country_exists = SCC
					country_exists = SKC
					country_exists = SDC
					country_exists = ZXL
					country_exists = XIA
				}
			}
		}
		
		bypass = {
			NOT = {
				country_exists = SHX
				country_exists = YUN
				country_exists = XSM
				country_exists = GXC
				country_exists = PRC
				country_exists = YUT
				country_exists = SCC
				country_exists = SKC
				country_exists = SDC
				country_exists = ZXL
				country_exists = XIA
			}
			OR = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		cancel_if_invalid = yes
		
		completion_reward = {
			add_political_power = 150
			add_stability = -0.05
			add_war_support = -0.05
			add_offsite_building = { type = arms_factory level = 1 }
			custom_effect_tooltip = KMT_no_united_front_unless_xian_incident_agreed_tt
		}
	}
	
	focus = {
		id = KMT_SHX_offer
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = KMT_internal_stability }
		relative_position_id = KMT_internal_stability
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			AND = {
				NOT = { has_war_with = SHX }
				is_puppet = no
				country_exists = SHX
				SHX = {
					custom_trigger_tooltip = {
						tooltip = KMT_alone_or_peace_faction_tt
						is_alone_or_in_faction_at_peace_with_CHI = yes
					}
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = { country_exists = SHX }
				SHX = { is_puppet_of = JAP }
				SHX = { is_puppet_of = ROOT }
				SHX = { is_puppet_of = PRC }
				has_global_flag = PRC_yes_truce
			}
		}
		cancel_if_invalid = yes
		
		completion_reward = {
			SHX = { country_event = { id = kmt.1  hours = 8 }}
		}
	}
	
	focus = {
		id = KMT_preparation
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_internal_stability }
		relative_position_id = KMT_internal_stability
		x = -2
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			AND = {
				622 = {
					controller = {
						OR = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}
				803 = {
					controller = {
						OR = {
							tag = ROOT
							is_puppet_of = ROOT
						}
					}
				}				
				NOT = { has_war_with = PRC }
				NOT = { PRC = { is_in_faction_with = ROOT }}
			}
		}
		
		bypass = {
			#OR = {
				NOT = { country_exists = PRC }
				#622 = {
				#	controller = {
				#		NOT = {
				#			tag = ROOT
				#			is_puppet_of = ROOT
				#		}
				#	}
				#}
			#}
		}
		
		completion_reward = {
			622 = {
				add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
				}
			}
			803 = {
				add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = KMT_strike_PRC
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = KMT_preparation }
		relative_position_id = KMT_preparation
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ANNEXATION FOCUS_FILTER_ARMY }
		
		available = {
			AND = {
				NOT = { has_war_with = PRC }
				NOT = {
					PRC = {
						is_in_faction_with = ROOT
					}
				}
			}
		}
		cancel_if_invalid = yes
		
		bypass = {
			OR = {
				has_global_flag = PRC_yes_truce
				NOT = { country_exists = PRC }
				is_in_faction_with = PRC
			}
		}
		
		completion_reward = {
			create_wargoal = {
				type = civil_war
				target = PRC
			}
			PRC = { add_opinion_modifier = { target = ROOT modifier = no_collaboration_with_CHI_COM } }
			army_experience = 5
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.75
				uses = 1
				category = land_doctrine
			}
		}
	}
	
	focus = {
		id = KMT_warlord
		icon = GFX_goal_chi_defeat_warloards
		prerequisite = { focus = KMT_strike_PRC }
		prerequisite = { focus = KMT_SHX_offer }
		relative_position_id = KMT_SHX_offer
		x = 0
		y = 2
		cost = 50
		search_filters = { FOCUS_FILTER_ANNEXATION }
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
		
		available = {
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = KMT_is_not_a_puppet_or_is_puppet_of_CHI_tt
				OR = {
					SHX = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					XSM = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					GXC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					YUN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					YUT = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SCC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SKC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SDC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					XIA = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					PGR = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					MEN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					ZXL = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
				}
			}
			OR = {
				has_global_flag = PRC_yes_truce
				NOT = {
					country_exists = PRC
				}
			}
		}
		
		bypass = {
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_none_is_puppet_or_is_puppet_of_CHI_tt
					NOT = {
						OR = {
							SHX = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							XSM = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							GXC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							YUN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							YUT = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							SCC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							SKC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							SDC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							XIA = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							PGR = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							MEN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
							ZXL = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
						}
					}
				}
				# has_global_flag = PRC_yes_truce
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					is_in_faction = no
				}
				CHI = {
					set_rule = { can_create_factions = yes }
					create_faction = chinese_united_front
				}
			}
			if = {
				limit = {
					PGR = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				PGR = {
					country_event = { id = kmt.74 hours = 2 }
				}
			}
			if = {
				limit = {
					SHX = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SHX = {
					country_event = { id = kmt.74 hours = 5 }
				}
			}
			if = {
				limit = {
					YUN = {
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				YUN = {
					country_event = { id = kmt.74 hours = 10 }
				}
			}
			if = {
				limit = {
					XSM = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				XSM = {
					country_event = { id = kmt.74 hours = 15 }
				}
			}
			if = {
				limit = {
					XIA = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				XIA = {
					country_event = { id = kmt.74 hours = 20 }
				}
			}
			if = {
				limit = {
					GXC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				GXC = {
					country_event = { id = kmt.74 hours = 30 }
				}
			}
			if = {
				limit = {
					YUT = {
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				YUT = {
					country_event = { id = kmt.74 hours = 35 }
				}
			}
			if = {
				limit = {
					SCC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SCC = {
					country_event = { id = kmt.74 hours = 40 }
				}
			}
			if = {
				limit = {
					SKC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SKC = {
					country_event = { id = kmt.74 hours = 42 }
				}
			}
			if = {
				limit = {
					SDC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SDC = {
					country_event = { id = kmt.74 hours = 45 }
				}
			}
			if = {
				limit = {
					ZXL = {
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				ZXL = {
					country_event = { id = kmt.74 hours = 50 }
				}
			}
			if = {
				limit = {
					MEN = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				if = {
					limit = {
						JAP = {
							exists = yes
							has_government = fascism
							is_puppet = no
						}
					}
					MEN = {
						country_event = { id = jap.74 hours = 7 }
					}
					else = {
						MEN = {
							country_event = { id = kmt.74 hours = 7 }
						}
					}
				}
			}
			set_global_flag = KMT_MEN_trigger_by_unify_focus
			set_country_flag = CHI_hostile_against_warlords
		}
	}
	
	focus = {
		id = KMT_external_defense
		icon = GFX_goal_generic_japan_faction
		mutually_exclusive = { focus = KMT_internal_stability }
		relative_position_id = KMT_internal_stability
		x = 2
		y = 0
		cost = 50
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		search_filters = { FOCUS_FILTER_TFV_AUTONOMY }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_external_defense_requirement_tt
				NOT = {
					has_war_with = PRC
					has_war_with = SHX
					has_war_with = XSM
					has_war_with = YUN
					has_war_with = GXC
					has_war_with = YUT
					has_war_with = SCC
					has_war_with = SKC
					has_war_with = SDC
					has_war_with = ZXL
					has_war_with = XIA
				}
			}
			NOT = {
				is_in_faction_with = JAP
				is_puppet_of = JAP
			}
		}
		cancel_if_invalid = yes
		
		bypass = {
			has_war_with = JAP
		}
		
		completion_reward = {
			add_war_support = 0.1
			if = {
				limit = {
					PGR = { is_puppet = no }
				}
				PGR = {
					country_event = { id = kmt.447 hours = 5 }
				}
			}
			if = {
				limit = {
					ZXL = {
						exists = yes
					}
				}
				ZXL = {
					country_event = { id = kmt.327 }
				}
			}
			if = {
				limit = {
					PRC = {
						exists = yes
					}
				}
				PRC = {
					country_event = { id = kmt.327 }
				}
			}
			if = {
				limit = {
					any_enemy_country = {
						OR = {
							is_independent_warlords = yes
							tag = PRC
						}
					}
				}
				every_other_country = {
					limit = {
						OR = {
							tag = PRC
							is_independent_warlords = yes
						}
						has_war_with = ROOT
					}
					white_peace = ROOT
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
			if = {
				limit = {
					744 = { is_border_conflict = yes }
				}
				744 = { set_border_war = no }
			}
			if = {
				limit = {
					622 = { is_border_conflict = yes }
				}
				622 = { set_border_war = no }
			}
			if = {
				limit = { has_unit_leader = 1017 }
				country_event = { id = kmt.456 }
				remove_unit_leader = 1017
			}
			set_global_flag = KMT_hyq_executed
			set_global_flag = KMT_united_front_enabled
			custom_effect_tooltip = KMT_enables_united_front_tt
		}
	}
	
	focus = {
		id = KMT_fortify_land
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = KMT_external_defense }
		relative_position_id = KMT_external_defense
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_external_defense_requirement_tt
				NOT = {
					has_war_with = PRC
					has_war_with = SHX
					has_war_with = XSM
					has_war_with = YUN
					has_war_with = GXC
					has_war_with = YUT
					has_war_with = SCC
					has_war_with = SKC
					has_war_with = SDC
					has_war_with = ZXL
					has_war_with = XIA
				}
			}
			NOT = {
				is_in_faction_with = JAP
			}
		}
		cancel_if_invalid = yes
		
		bypass = {
			OR = {
				NOT = {
					608 = { 
						controller = {
							OR = {
								tag = ROOT
								is_puppet_of = ROOT
							}
						}
					}
					613 = {
						is_controlled_by = ROOT
					}
				}
				is_in_faction_with = JAP
				has_war = yes
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					613 = {
						is_controlled_by = ROOT
					}
				}
				613 = {
					custom_effect_tooltip = kmt_forts_in_nanking_tt
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 3
							province = 11913
							instant_build = yes
						}
					}
					add_building_construction = {
						type = anti_air_building
						level = 3
						instant_build = yes
					}
				}
			}
			country_event = { id = kmt.218 }
			army_experience = 10
		}	
	}
	
	focus = {
		id = KMT_fortify_coast
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = KMT_external_defense }
		relative_position_id = KMT_external_defense
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_external_defense_requirement_tt
				NOT = {
					has_war_with = PRC
					has_war_with = SHX
					has_war_with = XSM
					has_war_with = YUN
					has_war_with = GXC
					has_war_with = YUT
					has_war_with = SCC
					has_war_with = SKC
					has_war_with = SDC
					has_war_with = ZXL
					has_war_with = XIA
				}
			}
			NOT = {
				is_in_faction_with = JAP
			}
			OR = {
				597 = { is_owned_by = ROOT }
				613 = { is_owned_by = ROOT }
				596 = { is_owned_by = ROOT }
				595 = { is_owned_by = ROOT }
				769 = { is_owned_by = ROOT }
			}
		}
		cancel_if_invalid = yes
		
		bypass = {
			NOT = {
				AND = {
					597 = { is_controlled_by = ROOT }
					613 = { is_controlled_by = ROOT }
					596 = { is_controlled_by = ROOT }
					595 = { is_controlled_by = ROOT }
					769 = { is_controlled_by = ROOT }
				}
			}
			is_in_faction_with = JAP
		}
		
		completion_reward = {
			597 = {
				if = {
					limit = {
						597 = { 
							is_controlled_by = ROOT
						}
					}
					custom_effect_tooltip = kmt_coastal_bunker_sd_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 4205
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 10000
							instant_build = yes
						}
					}
					else = {
						if = {
							limit = {
								597 = {
									is_controlled_by = SDC
								}
							}
							SDC = {
								country_event = { id = kmt.354 }
							}
						}
					}
				}
			}
			if = {
				limit = {
					769 = { is_controlled_by = ROOT }
				}
				if = {
					limit = {
						769 = {
							is_demilitarized_zone = no
						}
					}
					769 = {
						custom_effect_tooltip = kmt_coastal_bunker_sh_tt
						hidden_effect = {
							add_building_construction = {
								type = coastal_bunker
								level = 3
								province = 7014
								instant_build = yes
							}
						}
					}
					else = {
						country_event = { id = kmt.438 }
					}
				}
			}
			596 = {
				if = {
					limit = {
						596 = { is_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_zhej_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
								province = 7191
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 1055
							instant_build = yes
							}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 9974
							instant_build = yes
						}
					}
				}
			}	
			595 = {
				if = {
					limit = {
						595 = { is_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_fj_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 4196
							instant_build = yes
						}
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 7071
							instant_build = yes
						}
					}
				}
			}
			608 = {
				if = {
					limit = {
						608 = { is_controlled_by = ROOT }
					}
					custom_effect_tooltip = kmt_coastal_bunker_tj_tt
					hidden_effect = {
						add_building_construction = {
							type = coastal_bunker
							level = 2
							province = 10068
							instant_build = yes
						}
					}
				}
			}
			army_experience = 10
		}	
	}
	
	focus = {
		id = KMT_north_plan
		icon = GFX_focus_jap_cast_the_die
		prerequisite = { focus = KMT_fortify_land }
		relative_position_id = KMT_fortify_land
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION}
		
		available = {
			is_puppet = no
			has_army_manpower = { size > 999999 }
			custom_trigger_tooltip = {
				tooltip = KMT_north_plan_tt
		
				OR = {
					611 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					612 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					609 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					610 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					716 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					715 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					328 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					717 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					714 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					761 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
					767 = { NOT = { is_owned_by = ROOT } OWNER = { NOT = { has_war_with = ROOT } } }
				}
			}
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = KMT_north_plan_bypass_tt
				hidden_trigger = {
					owns_state = 611
					owns_state = 612
					owns_state = 609
					owns_state = 610
					owns_state = 716
					owns_state = 715
					owns_state = 328
					owns_state = 717
					owns_state = 714
					owns_state = 767
					owns_state = 761
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			KMT_north_plan_wargoal = yes
		}
	}
	
	focus = {
		id = KMT_national_def_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = KMT_fortify_coast focus = KMT_fortify_land }
		relative_position_id = KMT_fortify_land
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_WAR_SUPPORT }
		search_filters = { FOCUS_FILTER_MANPOWER }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_external_defense_requirement_tt
				NOT = {
					has_war_with = PRC
					has_war_with = SHX
					has_war_with = XSM
					has_war_with = YUN
					has_war_with = GXC
					has_war_with = YUT
					has_war_with = SCC
					has_war_with = SKC
					has_war_with = SDC
					has_war_with = ZXL
					has_war_with = XIA
				}
			}
			NOT = {
				is_in_faction_with = JAP
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					CHI =  { is_in_faction = no }
				}				
				CHI = {
					set_rule = { can_create_factions = yes }
					create_faction = chinese_united_front
				}
			}
			if = {
				limit = {
					NOT = {
						OR = {
							has_war_with = PRC
							has_war_with = SHX
							has_war_with = GXC
							has_war_with = YUN
							has_war_with = XSM
							has_war_with = YUT
							has_war_with = SCC
							has_war_with = SKC
							has_war_with = SDC
							has_war_with = ZXL
							has_war_with = XIA
						}
					}
				}
				add_ideas = KMT_propaganda
			}
			add_political_power = 100
		}
	}
	
	focus = {
		id = KMT_deal_with_SIK
		icon = GFX_goal_chi_sinkiang
		prerequisite = { focus = KMT_warlord focus = KMT_national_def_propaganda }
		relative_position_id = KMT_warlord
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		available = {
			has_army_manpower = {
				size > 749999
			}
			is_puppet = no
			NOT = {
				has_war_with = SIK
			}
			NOT = {
				has_government = fascism
				has_government = communism
			}
			any_neighbor_country = { tag = SIK }
		}
		
		completion_reward = {
			if = {
				limit = {
					has_government = neutrality
				}
				SIK = {
					country_event = { id = kmt.96 hours = 8 }
				}
			}
			if = {
				limit = {
					democratic_govt = yes
				}
				SIK = {
					country_event = { id = kmt.93 }
				}
			}
		}
	}
	
	focus = {
		id = KMT_tibet_march
		icon = GFX_goal_generic_political_pressure
		mutually_exclusive = { focus = KMT_tibet_friend }
		prerequisite = { focus = KMT_national_def_propaganda focus = KMT_warlord }
		relative_position_id = KMT_warlord
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			NOT = { is_puppet = yes }
			country_exists = TIB
			any_neighbor_country = {
				tag = TIB
			}
		}
		
		bypass = {
			OR = {
				has_war_with = TIB
				NOT = { country_exists = TIB }
				TIB = { is_puppet_of = ROOT }
			}
		}
		
		completion_reward = {
			322 = {
				add_core_of = ROOT
			}
			TIB = { country_event = { id = kmt.8  days = 3 }}
		}
		
		historical_ai = {
			NOT = {
				has_war_with_major = yes
				country_exists = PRC
			}
		}
	}
	
	focus = {
		id = KMT_tibet_friend
		icon = GFX_goal_generic_improve_relations
		mutually_exclusive = { focus = KMT_tibet_march }
		prerequisite = { focus = KMT_national_def_propaganda focus = KMT_warlord }
		relative_position_id = KMT_national_def_propaganda
		x = 0
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			is_puppet = no
			country_exists = TIB
			NOT = { has_war_with = TIB }
			TIB = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		bypass = {
			TIB = { is_in_faction_with = ROOT }
		}
		
		completion_reward = {
			TIB = {
				country_event = { id = kmt.197 days = 1 }
				add_opinion_modifier = { target = ROOT modifier = chi_tib_diplomatic_focus }
				if = {
					limit = {
						ROOT = { NOT = { has_government = neutrality } }
					}
					if = {
						limit = {
							ROOT = {
								has_government = fascism
							}
						}
						add_ideas = fascist_influence
					}
					if = {
						limit = {
							ROOT = {
								has_government = communism
							}
						}
						add_ideas = communist_influence
					}
					if = {
						limit = {
							ROOT = {
								democratic_govt = yes
							}
						}
						add_ideas = conservatism_influence
					}
					country_event = { id = generic.1 }
				}
			}
		}
	}
	
	focus = {
		id = KMT_redraw_mcmahon
		icon = GFX_focus_RAJ_british_investors
		prerequisite = { focus = KMT_tibet_friend focus = KMT_tibet_march }
		relative_position_id = KMT_tibet_march
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			has_army_manpower = { size > 1999999 }
			434 = { is_owned_by = RAJ }
			OR = {
				NOT = { country_exists = TIB }
				TIB = {
					OR = {
						is_puppet_of = ROOT 
						is_in_faction_with = ROOT 
					}
					NOT = {
						has_war_with = RAJ
					}
				}
			}
			NOT = {
				is_in_faction_with = RAJ
				has_war_with = RAJ
			}
			434 = {
				any_neighbor_state = {
					is_owned_by_ROOT_or_ally = yes
				}
			}
			#any_state = {
			#	owner = {
			#		OR = {
			#			is_in_faction_with = ROOT
			#			is_puppet_of = ROOT
			#			tag = ROOT
			#		}
			#	}
			#	any_neighbor_state = { state = 434 }
			#}
		}
		
		completion_reward = {
			RAJ = { country_event = { id = kmt.11  days = 3 }}
			434 = {
				add_core_of = ROOT
			}
		}
	}
	
	######### INDUSTRY BRANCH & RESOURCE BRANCH ##########
	
	focus = {
		id = KMT_industrial_effort 
		icon = GFX_goal_chi_construction
		relative_position_id = KMT_internal_stability
		x = 11
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = KMT_industrial_effort
				bonus = 0.5
				uses = 1
				category = industry
			}
			custom_effect_tooltip = KMT_allow_krupp_tt
		}
	}
	
	focus = {
		id = KMT_industrialization_NW
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_industrial_effort
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_war = no
			controls_state = 283
			controls_state = 616
			controls_state = 805
			controls_state = 793
			controls_state = 806
			controls_state = 808
			#	283 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
			#	616 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
			#	805 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
			#	793 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
			#	806 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
			#	808 = {
			#		is_controlled_by_ROOT_or_ally = yes
			#	}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = KMT_finished_one_industrial_focus }
				}
				set_country_flag = KMT_finished_one_industrial_focus
				else = {
					set_country_flag = KMT_finished_two_industrial_focus
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 145
						AND = {
							region = 200
							NOT = { 
								state = 601 
								state = 751 
								state = 752 
							}
						}
						state = 283
						state = 616
						state = 756
					}
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 145
						AND = {
							region = 200
							NOT = { 
								state = 601 
								state = 751 
								state = 752 
							}
						}
						state = 283
						state = 616
						state = 756
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = kmt_nw_infra_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						OR = {
							region = 145
							AND = {
								region = 200
								NOT = { 
									state = 601 
									state = 751 
									state = 752 
								}
							}
							state = 283
							state = 616
							state = 756
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_industrialization_S
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_industrial_effort
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_war = no
			591 = {
				is_controlled_by_ROOT_or_ally = yes
			}
			594 = {
				is_controlled_by_ROOT_or_ally = yes
			}
			592 = {
				is_controlled_by_ROOT_or_ally = yes
			}
			593 = {
				is_controlled_by_ROOT_or_ally = yes
			}
			599 = {
				is_controlled_by_ROOT_or_ally = yes
			}
		}
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = KMT_finished_one_industrial_focus }
				}
				set_country_flag = KMT_finished_one_industrial_focus
				else = {
					set_country_flag = KMT_finished_two_industrial_focus
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						AND = {
							region = 165
							NOT = {
								state = 602
								state = 603
								state = 747
								state = 748
								state = 750
								state = 762
								state = 773
								state = 774
							}
						}
					}
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						AND = {
							region = 165
							NOT = {
								state = 602
								state = 603
								state = 747
								state = 748
								state = 750
								state = 762
								state = 773
								state = 774
							}
						}
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = kmt_south_infra_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						OR = {
							AND = {
								region = 165
								NOT = {
									state = 602
									state = 603
									state = 747
									state = 748
									state = 750
									state = 762
									state = 773
									state = 774
								}
							}
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_pioneering_the_north_east
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_industrial_effort
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			has_war = no
			609 = { is_controlled_by_ROOT_or_ally = yes }
			610 = { is_controlled_by_ROOT_or_ally = yes }
			716 = { is_controlled_by_ROOT_or_ally = yes }
			715 = { is_controlled_by_ROOT_or_ally = yes }
			328 = { is_controlled_by_ROOT_or_ally = yes }
			717 = { is_controlled_by_ROOT_or_ally = yes }
			714 = { is_controlled_by_ROOT_or_ally = yes }
			761 = { is_controlled_by_ROOT_or_ally = yes }
			767 = { is_controlled_by_ROOT_or_ally = yes }
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = { has_country_flag = KMT_finished_one_industrial_focus }
				}
				set_country_flag = KMT_finished_one_industrial_focus
				else = {
					set_country_flag = KMT_finished_two_industrial_focus
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 155
						state = 612
						state = 609
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					OR = {
						region = 155
						state = 612
						state = 609
					}
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 6
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = KMT_pioneering_the_north_east_tt
			hidden_effect = {
				every_state = {
					limit = {
						OR = {
							state = 609
							state = 610
							state = 716
							state = 715
							state = 328
							state = 717
							state = 714
							state = 761
							state = 767
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_national_resources_commission
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = KMT_industrialization_NW focus = KMT_industrialization_S focus = KMT_pioneering_the_north_east }
		relative_position_id = KMT_industrialization_S
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			industrial_complex > 29
		}
		
		completion_reward = {
			unlock_decision_category_tooltip = prospect_for_resources
			unlock_decision_tooltip = KMT_ganzhou_tungsten
			unlock_decision_tooltip = KMT_huaihua_tungsten
			unlock_decision_tooltip = KMT_hunan_tungsten
			unlock_decision_tooltip = KMT_jian_tungsten
			unlock_decision_tooltip = KMT_jiangxi_tungsten
			unlock_decision_tooltip = KMT_shaoguan_tungsten
			unlock_decision_tooltip = KMT_sichuan_tungsten
			unlock_decision_tooltip = KMT_guizhou_steel
			unlock_decision_tooltip = KMT_sichuan_steel
			add_ideas = KMT_national_resources_committee
		}
	}
	
	focus = {
		id = KMT_excavation_NW
		icon = GFX_goal_generic_construction2
		prerequisite = { focus = KMT_national_resources_commission }
		relative_position_id = KMT_national_resources_commission
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			industrial_complex > 49
		}
		
		completion_reward = {
			unlock_decision_category_tooltip = prospect_for_resources
			unlock_decision_tooltip = KMT_karamay_oil
			unlock_decision_tooltip = KMT_taklamakan_oil
			unlock_decision_tooltip = KMT_urumqi_oil
			unlock_decision_tooltip = KMT_yarkand_oil
			unlock_decision_tooltip = KMT_ningxia_Al
			unlock_decision_tooltip = KMT_qinghai_Al
			unlock_decision_tooltip = KMT_qinghai_chrome
			unlock_decision_tooltip = develop_yunnan_aluminium_deposits
			unlock_decision_tooltip = develop_sichuan_aluminium_deposits
		}
	}
	
	focus = {
		id = KMT_excavation_S
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = KMT_national_resources_commission }
		relative_position_id = KMT_national_resources_commission
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			industrial_complex > 49
		}
		
		completion_reward = {
			unlock_decision_category_tooltip = prospect_for_resources
			unlock_decision_tooltip = KMT_guangdong_rubber
			unlock_decision_tooltip = KMT_guangzhou_rubber
			unlock_decision_tooltip = KMT_hainan_rubber
			unlock_decision_tooltip = KMT_nanning_rubber
		}
	}
	
	focus = {
		id = KMT_excavation_NE
		icon = GFX_goal_generic_construction
		prerequisite = { focus = KMT_national_resources_commission }
		relative_position_id = KMT_national_resources_commission
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			industrial_complex > 49
		}
		
		completion_reward = {
			unlock_decision_category_tooltip = prospect_for_resources
			unlock_decision_tooltip = develop_shandong_aluminium_deposits
			unlock_decision_tooltip = develop_daqing_deposits
			unlock_decision_tooltip = develop_kirin_aluminium_deposits
			unlock_decision_tooltip = KMT_EHopeh_steel
			unlock_decision_tooltip = KMT_wuhan_steel
			unlock_decision_tooltip = develop_liaotung_iron_ore_deposits
			unlock_decision_tooltip = KMT_kirin_chrome
			unlock_decision_tooltip = KMT_liaoning_chrome
			unlock_decision_tooltip = KMT_sungkiang_chrome
		}
	}
	
	########## NATIONAL DEFENSE COUNCIL & REARMAMENT BRANCH ##########
	
	focus = {
		id = KMT_national_defense_council
		icon = GFX_goal_chi_shield_kmt
		relative_position_id = KMT_industrial_effort
		x = 10
		y = 0
		cost = 50
		search_filters = { FOCUS_FILTER_INDUSTRY }
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			army_experience = 10
			navy_experience = 5
			air_experience = 5
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KMT_army_ordnance_department
			show_ideas_tooltip = KMT_rheinmetall
			show_ideas_tooltip = KMT_mauser
		}
	}
	
	focus = {
		id = KMT_the_big_rear_concept
		icon = GFX_goal_generic_construction2
		# prerequisite = { focus = KMT_national_defense_council }
		relative_position_id = KMT_lure_them_in_strategy
		x = 0
		y = 2
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_war = yes
			has_war_with = JAP
		}
		cancel_if_invalid = yes
		
		completion_reward = {
			unlock_decision_category_tooltip = KMT_dcat_industrial_evacuation
			set_variable = { var = CHI_industrial_evacuations_amount_factor value = 0.75 }
			set_variable = { var = CHI_industrial_evacuations_amount_factor2 value = 0.65 }
			set_variable = { var = CHI_industrial_evacuations_amount_factor3 value = 0.55 }
			add_ideas = KMT_rear
			custom_effect_tooltip = KMT_29_available
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CHI_taiyuan_arsenal
			#if = {
			#	limit = {
			#		SCC = {
			#			OR = {
			#				has_war_together_with = ROOT
			#				is_in_faction_with = ROOT
			#			}
			#		}
			#	}
			#	custom_effect_tooltip = KMT_will_take_scc_if_nk_falls_tt
			#}
		}
	}
	
	##### LOCAL ARMY BRANCH #####
	
	focus = {
		id = KMT_expand_national_army
		icon = GFX_goal_chi_army
		prerequisite = { focus = KMT_national_defense_council }
		prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_national_defense_council
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			army_experience = 25
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = KMT_armament_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = KMT_expand_national_army }
		relative_position_id = KMT_expand_national_army
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					is_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = smallarms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = uniform_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = KMT_revive_hanyang_armory
		icon = GFX_goal_generic_production2
		prerequisite = { focus = KMT_expand_national_army }
		relative_position_id = KMT_expand_national_army
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			if = {
				limit = {
					620 = {
						OR = {
							OR = { 
								NOT = {
									is_owned_by = ROOT
								}
								NOT = {
									is_controlled_by = ROOT
								}
							}
							AND = {
								is_owned_by = ROOT
								free_building_slots = {
									building = arms_factory
									size < 0
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}	
					add_building_construction = {
						type = smallarms_factory
						level = 1
						instant_build = yes
					}					
				}
			}
			620 = {
				if = {
					limit = { 
						is_owned_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = CHI_hanyan_arsenal
		}
	}
	
	focus = {
		id = KMT_modernize_army
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = KMT_revive_hanyang_armory }
		prerequisite = { focus = KMT_armament_effort }
		relative_position_id = KMT_revive_hanyang_armory
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_modernize_army
				bonus = 0.5
				uses = 1
				category = artillery
				category = armor
				category = cat_mechanized_equipment
				category = motorized_equipment
			}
		}
	}
	
	focus = {
		id = KMT_increase_funding_of_german_weaponary
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = KMT_revive_hanyang_armory }
		prerequisite = { focus = KMT_armament_effort }
		relative_position_id = KMT_armament_effort
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_increase_funding_of_german_weaponary
				bonus = 0.5
				uses = 1
				category = infantry_weapons
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KMT_hanyang_arsenal_tank
		}
	}
	
	focus = {
		id = KMT_FOCUS_ON_CENTRAL_ARMY
		icon = GFX_goal_generic_army_doctrines
		mutually_exclusive = { focus = KMT_INTEGRATE_WARLORD_FORCES }
		prerequisite = { focus = KMT_modernize_army focus = KMT_increase_funding_of_german_weaponary }
		relative_position_id = KMT_modernize_army
		x = 0
		y = 1
		dynamic = yes
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			set_country_flag = kmt_wont_remove_warlord_army
			if = {
				limit = {
					NOT = {
						has_idea = KMT_warlord_cliques_war
					}
				}
				add_ideas = KMT_focus_on_own_army
				else = {
					swap_ideas = {
						remove_idea	= KMT_warlord_cliques_war
						add_idea = KMT_focus_on_own_army
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_INTEGRATE_WARLORD_FORCES
		icon = GFX_goal_generic_alliance
		mutually_exclusive = { focus = KMT_FOCUS_ON_CENTRAL_ARMY }
		prerequisite = { focus = KMT_modernize_army focus = KMT_increase_funding_of_german_weaponary }
		relative_position_id = KMT_increase_funding_of_german_weaponary
		x = 0
		y = 1
		dynamic = yes
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			if = {
				limit = {
					has_idea = KMT_warlord_cliques_war
				}
				remove_ideas = KMT_warlord_cliques_war
			}
			add_ideas = KMT_effective_integration
		}
	}
	
	##### Lure them In Branch #####
	
	focus = {
		id = KMT_lure_them_in_strategy
		icon = GFX_goal_generic_army_doctrines
		# prerequisite = { focus = KMT_national_defense_council }
		relative_position_id = CHI_war_of_resistance
		x = -3
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_war = yes
			OR = {
				surrender_progress > 0.25
				AND = {
					613 = {
						controller = {
							has_war_with = ROOT
						}
					}
					608 = {
						controller = {
							has_war_with = ROOT
						}
					}
					743 = {
						controller = {
							has_war_with = ROOT
						}
					}
				}
			}
		}
		continue_if_invalid = yes
		available_if_capitulated = yes
		
		select_effect = {
			country_event = { id = lti.1 }
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_lure_them_in_effect_tt
			effect_tooltip = {
				add_ideas = KMT_lure_them_in_1
			}
			hidden_effect = {
				country_event = { id = lti.5 }
			}
		}
	}
	
	focus = {
		id = KMT_dare_to_die_corps
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = KMT_lure_them_in_strategy }
		relative_position_id = KMT_lure_them_in_strategy
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_war = yes
		}
		available_if_capitulated = yes
		continue_if_invalid = yes
		
		completion_reward = {
			add_ideas = kmt_dare_to_die_corps_idea
			custom_effect_tooltip = kmt_dtdc_tt
			hidden_effect = {
				set_technology = { dare_to_die_corps = 1 }
			}
			if = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				set_variable = { KMT_dare_to_die_corps = 1 }
			}
		}
	}
	
	########## LOCAL NAVAL BRANCH ##########
	
	focus = {
		id = KMT_refound_the_navy
		icon = GFX_goal_chi_navy
		prerequisite = { focus = KMT_national_defense_council }
		prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_national_defense_council
		x = -5
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_NAVY }
		
		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = CHI_navy_focus_2dockyards }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
		}
	}
	
	focus = {
		id = KMT_revive_jiangnan_shipyard
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = KMT_refound_the_navy }
		relative_position_id = KMT_refound_the_navy
		x = 0
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		completion_reward = {
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = jiangnan_shipyard_group
		}
	}
	
	focus = {
		id = KMT_revive_naval_industry_south
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = KMT_revive_jiangnan_shipyard }
		relative_position_id = KMT_revive_jiangnan_shipyard
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		completion_reward = {
			if = {
				limit = {
					613 = {
						OR = {
							OR = { 
								NOT = {
									is_owned_by = ROOT
								}
								NOT = {
									is_controlled_by = ROOT
								}
							}
							AND = {
								is_owned_by = ROOT
								free_building_slots = {
									building = dockyard
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}							
				}
			}
			613 = {
				if = {
					limit = { 
						is_owned_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_revive_naval_industry_north
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = KMT_revive_jiangnan_shipyard }
		relative_position_id = KMT_revive_jiangnan_shipyard
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_NAVY }
		
		completion_reward = {
			if = {
				limit = {
					613 = {
						OR = {
							OR = { 
								NOT = {
									is_owned_by = ROOT
								}
								NOT = {
									is_controlled_by = ROOT
								}
							}
							AND = {
								is_owned_by = ROOT
								free_building_slots = {
									building = dockyard
									size < 1
									include_locked = yes
								}
							}
						}
					}
				}
				random_owned_controlled_state = {
					limit = { 
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}							
				}
			}
			613 = {
				if = {
					limit = { 
						is_owned_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = yes
						}
						is_controlled_by = ROOT
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = dockyard
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_gain_control_of_the_sea 
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = KMT_revive_naval_industry_north }
		prerequisite = { focus = KMT_revive_naval_industry_south }
		relative_position_id = KMT_revive_naval_industry_north
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		complete_tooltip = {
			navy_experience = 25
			every_state = {
				limit = { has_state_flag = CHI_navy_focus_2dockyards }
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					is_in_home_area = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
				set_state_flag = CHI_navy_focus_2dockyards
			}
		}
	}
	
	focus = {
		id = KMT_navy_sci
		icon = GFX_focus_research
		prerequisite = { focus = KMT_gain_control_of_the_sea }
		relative_position_id = KMT_gain_control_of_the_sea
		x = 3
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:naval_doctrine_folder = yes
		}
	}
	
	focus = {
		id = KMT_study_foreign_ship
		icon = GFX_goal_generic_production
		prerequisite = { focus = KMT_gain_control_of_the_sea }
		relative_position_id = KMT_gain_control_of_the_sea
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		completion_reward = {
			navy_experience = 5
			add_tech_bonus = {
				name = dd_bonus
				bonus = 0.25
				uses = 2
				category = dd_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = dd_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_light
				}
			}
		}
	}
	
	focus = {
		id = KMT_demand_taiwan
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = KMT_gain_control_of_the_sea }
		relative_position_id = KMT_gain_control_of_the_sea
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			custom_trigger_tooltip = {
				tooltip = demand_taiwan_tt
				hidden_trigger = {
					524 = {
						owner = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
			}
		}
		
		bypass = {
			524 = {
				is_owned_by = ROOT
			}
		}
		
		completion_reward = {
			524 = {
				owner = {
					country_event = { id = kmt.15 days = 3 }
				}
			}
		}
	}
	
	focus = {
		id = KMT_taiwan_fleet_hub
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = { focus = KMT_demand_taiwan }
		relative_position_id = KMT_demand_taiwan
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			524 = {
				is_owned_by = ROOT
			}
			524 = {
				is_controlled_by = ROOT
			}
		}
		
		bypass = {
			custom_trigger_tooltip =  {
				tooltip = KMT_ocean_hub_tt
				524 = {
					free_building_slots = {
						building = dockyard
						size < 4
						include_locked = yes
					}
				}
			}
		}
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = navy_bonus
				bonus = 0.25
				uses = 2
				category = naval_equipment
			}
			524 = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				add_building_construction = {
					type = shipyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = subyard
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = naval_base
					level = 10
					instant_build = yes
					province = 7186
				}
			}
		}
	}
	
	focus = {
		id = KMT_pacific_fleet
		icon = GFX_goal_generic_navy_carrier
		mutually_exclusive = { focus = KMT_sea_fleet }
		prerequisite = { focus = KMT_taiwan_fleet_hub }
		relative_position_id = KMT_taiwan_fleet_hub
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			has_navy_size = {
				size > 49
			}
		}
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = cv_bonus
				bonus = 0.25
				uses = 1
				category = cv_tech
			}
			add_tech_bonus = {
				name = bb_bonus
				bonus = 0.5
				uses = 1
				category = bb_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 0.5
				uses = 1
				category = cl_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = bb_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_heavy
				}
				add_tech_bonus = {
					name = cr_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_medium
				}
			}
		}
	}
	
	focus = {
		id = KMT_pacific_expansion
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = KMT_pacific_fleet }
		relative_position_id = KMT_pacific_fleet
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_ANNEXATION }
		
		available = {
			has_navy_size = {
				size > 74
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_pacific_expansion
				bonus = 0.5
				uses = 2
				category = naval_doctrine_capital
				category = naval_doctrine_cruiser
			}
			KMT_take_pacific_wargoal = yes
		}
	}
	
	focus = {
		id = KMT_sea_fleet
		icon = GFX_goal_generic_navy_submarine
		mutually_exclusive = { focus = KMT_pacific_fleet }
		prerequisite = { focus = KMT_taiwan_fleet_hub }
		relative_position_id = KMT_taiwan_fleet_hub
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			has_navy_size = {
				size > 49
			}
		}
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = ss_bonus
				bonus = 0.5
				uses = 1
				category = ss_tech
			}
			add_tech_bonus = {
				name = dd_bonus
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = cr_bonus
				bonus = 0.5
				uses = 1
				category = cl_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = dd_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_light
				}
				add_tech_bonus = {
					name = cr_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_medium
				}
			}
		}
	}
	
	focus = {
		id = KMT_sea_expansion
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = { focus = KMT_sea_fleet }
		relative_position_id = KMT_sea_fleet
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_ANNEXATION}
		
		available = {
			has_navy_size = {
				size > 74
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_sea_expansion
				bonus = 0.5
				uses = 2
				category = naval_doctrine_cruiser
				category = naval_doctrine_destroyer
				category = naval_doctrine_submarine
			}
			KMT_take_SEA_wargoal = yes
		}
	}
	
	########## SCIENCE AND EDUCATION BRANCH ##########
	
	focus = {
		id = KMT_science_effort
		icon = GFX_goal_chi_academia_sinica
		relative_position_id = KMT_national_defense_council
		x = 10
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_ideas = KMT_science_funding
		}
	}
	
	focus = {
		id = KMT_extra_research_slot
		icon = GFX_goal_industrial_research_projects
		prerequisite = { focus = KMT_science_effort }
		relative_position_id = KMT_science_effort
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			industrial_complex > 24
		}
		
		completion_reward = {
			custom_effect_tooltip = kmt_pekingu_tt
			swap_ideas = {
				remove_idea = public_iliteracy
				add_idea = public_iliteracy_2
			}
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:industry_folder = yes
			SLOT:electronics_folder = yes
		}
	}
	
	focus = {
		id = KMT_electronics_research
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = KMT_extra_research_slot }
		relative_position_id = KMT_science_effort
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_electronics_research
				bonus = 0.35
				uses = 1
				category = electronics
			}
		}
	}
	
	focus = {
		id = KMT_bold_hypothesis
		icon = GFX_focus_research2
		prerequisite = { focus = KMT_electronics_research }
		relative_position_id = KMT_electronics_research
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_bold_hypothesis
				bonus = 0.5
				uses = 1
				category = electronics
			}
		}
	}
	
	focus = {
		id = KMT_extra_research_slot_2
		icon = GFX_focus_research
		prerequisite = { focus = KMT_bold_hypothesis }
		prerequisite = { focus = KMT_extra_research_slot }
		relative_position_id = KMT_extra_research_slot
		x = 0
		y = 3
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			industrial_complex > 69
		}
		
		completion_reward = {
			remove_ideas = public_iliteracy_2
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:tank_techs_folder = yes
			SLOT:armor_folder = yes
			SLOT:air_techs_folder = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:industry_folder = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:naval_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
			SLOT:electronics_folder = yes
		}
	}
	
	focus = {
		id = KMT_national_institute
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = KMT_science_effort }
		# prerequisite = { focus = KMT_industrial_effort }
		relative_position_id = KMT_science_effort
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		bypass = {
			GER = {
				NOT = {
					has_government = fascism
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_national_institute_ns
		}
	}
	
	focus = {
		id = KMT_military_science 
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = KMT_national_institute }
		relative_position_id = KMT_national_institute
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		search_filters = { FOCUS_FILTER_NAVY }
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_military_science
				bonus = 0.5
				uses = 2
				category = land_doctrine
				category = air_doctrine
				category = naval_doctrine
			}
			army_experience = 25
			navy_experience = 25
			air_experience = 25
		}
	}
	
	focus = {
		id = KMT_ballistic_weapon
		icon = GFX_focus_rocketry
		prerequisite = { focus = KMT_military_science }
		prerequisite = { focus = KMT_bold_hypothesis }
		relative_position_id = KMT_military_science
		x = 1
		y = 2
		cost = 50
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_ballistic_weapon
				bonus = 0.5
				uses = 1
				category = rocketry
			}
		}
	}
	
	focus = {
		id = KMT_nuclear_physics
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = KMT_bold_hypothesis }
		relative_position_id = KMT_bold_hypothesis
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_nuclear_physics
				bonus = 0.5
				uses = 1
				category = nuclear
			}
		}
	}
	
	########## LOCAL AIR REARMAMENT & AIRFORCE BRANCH ##########
	
	focus = {
		id = KMT_republic_of_china_airforce
		icon = GFX_goal_chi_airforce
		prerequisite = { focus = KMT_national_defense_council }
		prerequisite = { focus = KMT_science_effort }
		relative_position_id = KMT_national_defense_council
		x = 5
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 25
			add_tech_bonus = {
				name = KMT_fighter_focus
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	focus = {
		id = KMT_air_base_expansion
		icon = GFX_goal_generic_air_production
		prerequisite = { focus = KMT_republic_of_china_airforce }
		relative_position_id = KMT_republic_of_china_airforce
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = air_base
						size > 1
					}
					is_controlled_by = ROOT
				}
				add_building_construction = {
					type = air_base
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = KMT_fighter_focus
		icon = GFX_goal_generic_air_fighter
		mutually_exclusive = { focus = KMT_bomber_focus }
		prerequisite = { focus = KMT_air_base_expansion }
		relative_position_id = KMT_air_base_expansion
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 5
			add_tech_bonus = {
				name = KMT_fighter_focus
				bonus = 0.5
				uses = 1
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	
	focus = {
		id = KMT_cas_effort
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = KMT_fighter_focus }
		relative_position_id = KMT_fighter_focus
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = KMT_cas_effort
				bonus = 0.5
				uses = 1
				category = cas_bomber
			}
		}
	}
	
	focus = {
		id = KMT_bomber_focus
		icon = GFX_goal_generic_air_bomber
		mutually_exclusive = { focus = KMT_fighter_focus }
		prerequisite = { focus = KMT_air_base_expansion }
		relative_position_id = KMT_air_base_expansion
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 5
			add_tech_bonus = {
				name = KMT_bomber_focus
				bonus = 0.5
				uses = 1
				category = cat_strategic_bomber
				category = tactical_bomber
			}
		}
	}
	
	focus = {
		id = KMT_nav_effort
		icon = GFX_goal_generic_air_naval_bomber
		prerequisite = { focus = KMT_bomber_focus }
		relative_position_id = KMT_bomber_focus
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = KMT_nav_effort
				bonus = 0.5
				uses = 1
				category = naval_bomber
			}
		}
	}
	
	focus = {
		id = KMT_jet
		icon = GFX_goal_design_jet
		prerequisite = { focus = KMT_military_science }
		prerequisite = { focus = KMT_air_base_expansion }
		relative_position_id = KMT_air_base_expansion
		x = 3
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_jet
				bonus = 0.25
				uses = 2
				category = jet_technology
				category = rocketry
			}
		}
	}
	
	########## CHINESE CIVIL WAR BRANCH ##########
	
	focus = {
		id = KMT_preemptive_preparation
		icon = GFX_goal_generic_construction2
		# relative_position_id = ????????
		x = 77
		y = 0
		offset = {
			x = -33
			y = 6
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 35
		search_filters = { FOCUS_FILTER_INFRASTRUCTURE }
		
		available = {
			has_war = no
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = CHI_warred_with_JAP
				has_global_flag = CHI_warred_with_JAP
				NOT = {
					has_war_with = JAP
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_stall_time_tt
				has_country_flag = KMT_stall_time
			}
		}
		
		bypass = {
			has_war_with = PRC
			custom_trigger_tooltip = {
				tooltip = CHI_warred_with_JAP
				has_global_flag = CHI_warred_with_JAP
				NOT = {
					has_war_with = JAP
				}
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			create_wargoal = {
				target = PRC
				type = civil_war
			}
			custom_effect_tooltip = KMT_prep_2_tt
			hidden_effect = {
				every_owned_state = {
					limit = {
						is_controlled_by = ROOT
						any_neighbor_state = {
							is_owned_by = PRC
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_taiwan_bastion
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = KMT_preemptive_preparation }
		relative_position_id = KMT_preemptive_preparation
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			is_puppet = no
			524 = {
				full_control_by_root = yes
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = kmt_taiwan_bastion_tt
			hidden_effect = {
				524 = {
					add_building_construction = {
						type = coastal_bunker
						level = 2
						instant_build = yes
						province = 12068
					}
					add_building_construction = {
						type = coastal_bunker
						level = 3
						instant_build = yes
						province = 7186
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 11959
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1091
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 11914
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 1175
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 4096
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 9955
					}
					add_building_construction = {
						type = coastal_bunker
						level = 1
						instant_build = yes
						province = 7214
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_development_of_taiwan
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_taiwan_bastion }
		relative_position_id = KMT_taiwan_bastion
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			has_war = no
			524 = {
				is_controlled_by = ROOT
				is_owned_by = ROOT
			}
		}
		
		completion_reward = {
			524 = {
				add_extra_state_shared_building_slots = 25
				add_building_construction = {
					type = infrastructure
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}	
	}
	
	focus = {
		id = KMT_north_west_insurgence
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = KMT_preemptive_preparation }
		relative_position_id = KMT_preemptive_preparation
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		available = {
			XSM = {
				is_puppet = no
				NOT = {
					has_government = communism
				}
			}
			is_puppet = no
			has_war_with = PRC
			has_global_flag = PRC_civil_war_started
			custom_trigger_tooltip = {
				tooltip = kmt_nw_insurgence_tt
				hidden_trigger = {
					283 = {
						OR = {
							AND = {
								is_owned_by = PRC
								is_controlled_by = PRC
							}
							AND = {
								is_owned_by = ROOT
								is_controlled_by = ROOT
							}
							AND = {
								is_owned_by = XSM
								is_controlled_by = XSM
							}
						}
					}
					604 = {
						OR = {
							AND = {
								is_owned_by = PRC
								is_controlled_by = PRC
							}
							AND = {
								is_owned_by = ROOT
								is_controlled_by = ROOT
							}
							AND = {
								is_owned_by = XSM
								is_controlled_by = XSM
							}
						}
					}
					616 = {
						OR = {
							AND = {
								is_owned_by = PRC
								is_controlled_by = PRC
							}
							AND = {
								is_owned_by = ROOT
								is_controlled_by = ROOT
							}
							AND = {
								is_owned_by = XSM
								is_controlled_by = XSM
							}
						}
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					XSM = {
						exists = no
					}
				}
				set_global_flag = XSM_revived
				custom_effect_tooltip = kmt_mbf_go_lead_xsm
				random_unit_leader = {
					limit = {
						has_id = 1008
					}
					set_nationality = XSM
				}
			}
			add_ai_strategy = {
				type = befriend
				id = "XSM"
				value = 200
			}
			add_opinion_modifier = {
				target = XSM
				modifier = war_against_communist_china
			}
			XSM = {
				set_country_flag = KMT_PRC_joined
				set_country_flag = joined_kmt_against_prc
				if = {
					limit = {
						283 = {
							NOT = {
								is_owned_by = XSM
							}
						}
					}
					transfer_state = 283
				}
				if = {
					limit = {
						604 = {
							NOT = {
								is_owned_by = XSM
							}
						}
					}
					transfer_state = 604
				}
				if = {
					limit = {
						616 = {
							NOT = {
								is_owned_by = XSM
							}
						}
					}
					transfer_state = 616
				}
				hidden_effect = {
					if = {
						limit = {
							283 = {
								is_owned_by = XSM
							}
						}
						if = {
							limit = {
								ROOT = {
									NOT = {
										has_tech = infantry_weapons1
									}
								}
							}
							load_oob = "XSM_insurgence_283_ie0"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = infantry_weapons1
									NOT = {
										has_tech = improved_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_283_ie1"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = improved_infantry_weapons
									NOT = {
										has_tech = advanced_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_283_ie2"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = advanced_infantry_weapons
								}
							}
							load_oob = "XSM_insurgence_283_ie3"
						}
					}
					if = {
						limit = {
							604 = {
								is_owned_by = XSM
							}
						}
						if = {
							limit = {
								ROOT = {
									NOT = {
										has_tech = infantry_weapons1
									}
								}
							}
							load_oob = "XSM_insurgence_604_ie0"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = infantry_weapons1
									NOT = {
										has_tech = improved_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_604_ie1"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = improved_infantry_weapons
									NOT = {
										has_tech = advanced_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_604_ie2"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = advanced_infantry_weapons	
								}
							}
							load_oob = "XSM_insurgence_604_ie3"
						}
					}
					if = {
						limit = {
							616 = {
								is_owned_by = XSM
							}
						}
						if = {
							limit = {
								ROOT = {
									NOT = {
										has_tech = infantry_weapons1
									}
								}
							}
							load_oob = "XSM_insurgence_616_ie0"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = infantry_weapons1
									NOT = {
										has_tech = improved_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_616_ie1"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = improved_infantry_weapons
									NOT = {
										has_tech = advanced_infantry_weapons
									}
								}
							}
							load_oob = "XSM_insurgence_616_ie2"
						}
						if = {
							limit = {
								ROOT = {
									has_tech = advanced_infantry_weapons
								}
							}
							load_oob = "XSM_insurgence_616_ie3"
						}
					}
					if = {
						limit = {
							ROOT = {
								is_faction_leader = yes
							}
						}
						ROOT = {
							add_to_faction = XSM
						}
					}
				}
				add_to_war = {
					targeted_alliance = ROOT
					enemy = PRC
				}
				hidden_effect = {
					if = {
						limit = {
							ROOT = {
								NOT = {
									has_tech = infantry_weapons1
								}
							}
						}
						load_oob = "XSM_insurgence_factories_ie0"
					}
					if = {
						limit = {
							ROOT = {
								has_tech = infantry_weapons1
								NOT = {
									has_tech = improved_infantry_weapons
								}
							}
						}
						load_oob = "XSM_insurgence_factories_ie1"
					}
					if = {
						limit = {
							ROOT = {
								has_tech = improved_infantry_weapons
								NOT = {
									has_tech = advanced_infantry_weapons
								}
							}
						}
						load_oob = "XSM_insurgence_factories_ie2"
					}
					if = {
						limit = {
							ROOT = {
								has_tech = advanced_infantry_weapons
							}
						}
						load_oob = "XSM_insurgence_factories_ie3"
					}
					if = {
						limit = {
							ROOT = {
								has_tech = infantry_weapons1
							}
						}
						set_technology = { infantry_weapons1 = 1 }
					}
					if = {
						limit = {
							ROOT = {
								has_tech = improved_infantry_weapons
							}
						}
						set_technology = { improved_infantry_weapons = 1 }
					}
					if = {
						limit = {
							ROOT = {
								has_tech = advanced_infantry_weapons
							}
						}
						set_technology = { advanced_infantry_weapons = 1 }
					}
					604 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}	
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}	
					}
					283 = {
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}	
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}	
					}
					616 = {
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}	
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}	
					}
					add_ideas = war_economy
					add_ideas = cons_expanded_draft
					add_opinion_modifier = {
						target = ROOT
						modifier = war_against_communist_china
					}
				}
				add_ai_strategy = {
					type = alliance
					id = ROOT
					value = 200
				}
				add_timed_idea = {
					idea = KMT_aid_to_xsm
					days = 250
				}
			}
		}
	}
	
	focus = {
		id = KMT_warlord_after_civil_war
		icon = GFX_goal_generic_attack_allies
		relative_position_id = KMT_north_west_insurgence
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		available = {
			is_puppet = no
			custom_trigger_tooltip = {
				tooltip = KMT_is_not_a_puppet_or_is_puppet_of_CHI_tt
				OR = {
					SHX = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					XSM = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					GXC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					YUN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					YUT = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SCC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SKC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					SDC = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					XIA = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					PGR = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					MEN = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
					ZXL = { is_not_a_puppet_or_is_puppet_of_CHI = yes }
				}
			}
			NOT = {
				country_exists = PRC
			}
			OR = {
				has_global_flag = KMT_jap_no_longer_a_threat
				custom_trigger_tooltip = {
					tooltip = CHI_warred_with_JAP
					has_global_flag = CHI_warred_with_JAP
					NOT = {
						has_war_with = JAP
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					SHX = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SHX = {
					country_event = { id = kmt.74 hours = 5 }
				}
			}
			if = {
				limit = {
					YUN = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				YUN = {
					country_event = { id = kmt.74 hours = 10 }
				}
			}
			if = {
				limit = {
					XSM = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				XSM = {
					country_event = { id = kmt.74 hours = 15 }
				}
			}
			if = {
				limit = {
					XIA = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				XIA = {
					country_event = { id = kmt.74 hours = 20 }
				}
			}
			if = {
				limit = {
					GXC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				GXC = {
					country_event = { id = kmt.74 hours = 30 }
				}
			}
			if = {
				limit = {
					YUT = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				YUT = {
					country_event = { id = kmt.74 hours = 35 }
				}
			}
			if = {
				limit = {
					SCC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SCC = {
					country_event = { id = kmt.74 hours = 40 }
				}
			}
			if = {
				limit = {
					SKC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SKC = {
					country_event = { id = kmt.74 hours = 40 }
				}
			}
			if = {
				limit = {
					SDC = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				SDC = {
					country_event = { id = kmt.74 hours = 45 }
				}
			}
			if = {
				limit = {
					ZXL = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				ZXL = {
					country_event = { id = kmt.74 hours = 50 }
				}
			}
			if = {
				limit = {
					MEN = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				MEN = {
					country_event = { id = kmt.74 hours = 55 }
				}
			}
			if = {
				limit = {
					PGR = { 
						is_not_a_puppet_or_is_puppet_of_CHI = yes
					}
				}
				PGR = {
					country_event = { id = kmt.74 hours = 60 }
				}
			}
		}
	}
	
	########## INVITE INVESTORS BRANCH ##########
	
	focus = {
		id = KMT_invite_foreign_investors
		icon = GFX_goal_chi_attract_investors
		relative_position_id = KMT_science_effort
		x = 19
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			add_political_power = 25
			add_offsite_building = { type = industrial_complex level = 1 }
			if = {
				limit = {
					has_country_flag = coastal_state
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
						is_coastal = yes
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							is_coastal = no
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	##### Portugal #####
	
	focus = {
		id = KMT_por_friend
		icon = GFX_goal_chi_investor_por
		mutually_exclusive = { focus = KMT_anti_POR }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = -17
		y = 1
		cost = 35
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = POR
				POR = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 49
						}
					}
				}
			}
			NOT = {
				has_war_with = POR
			}
			POR = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			POR = {
				add_offsite_building = { type = industrial_complex level = 1 }
			}
			add_opinion_modifier = {
				target = POR
				modifier = trade_partner
			}
			add_ideas = {
				liberty_ethos_focus
			}
		}	
	}
	
	focus = {
		id = KMT_anti_POR
		icon = GFX_goal_chi_expell_por
		mutually_exclusive = { focus = KMT_por_friend }
		relative_position_id = KMT_por_friend
		x = 2
		y = 0
		cost = 20
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_political_power = 25
			reverse_add_opinion_modifier = {
				target = POR
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_por
		}
	}
	
	##### Germany #####
	
	focus = {
		id = KMT_increase_sino_german_cooperation
		icon = GFX_goal_chi_investor_ger
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = -13
		y = 1
		cost = 35
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = GER
				GER = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
				}
			}
			NOT = {
				has_war_with = GER
			}
			GER = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.332 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				GER = {
					add_opinion_modifier = {
						target = ROOT
						modifier = more_sino_german_coop
					}
				}
				add_opinion_modifier = {
					target = GER
					modifier = more_sino_german_coop
				}
				if = {
					limit = {
						has_idea = german_advisors
					}
					swap_ideas = {
						remove_idea = german_advisors
						add_idea = KMT_sino_german_joint_research_ger_adv
					}
					else = {
						add_ideas = KMT_sino_german_joint_research
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_falkenhausen_citizenship
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = KMT_increase_sino_german_cooperation }
		relative_position_id = KMT_increase_sino_german_cooperation
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = GER
			}
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			unlock_decision_tooltip = KMT_cadet_in_GER_land
			unlock_decision_tooltip = KMT_cadet_in_GER_navy
			unlock_decision_tooltip = KMT_cadet_in_GER_air
		}
	}
	
	focus = {
		id = KMT_chinese_general_staff
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = KMT_falkenhausen_citizenship }
		relative_position_id = KMT_falkenhausen_citizenship
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = GER
			}
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_chi_general_staff
		}
	}
	
	focus = {
		id = KMT_war_gaming_division
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = KMT_chinese_general_staff }
		relative_position_id = KMT_chinese_general_staff
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = KMT_chi_general_staff
				add_idea = KMT_chi_general_staff_wargaming
			}
		}
	}
	
	focus = {
		id = KMT_force_japan_to_accept_peace
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = KMT_increase_sino_german_cooperation }
		relative_position_id = KMT_increase_sino_german_cooperation
		x = -3
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_german_approved_tt
				has_global_flag = KMT_german_approved_global
			}
			GER = {
				has_idea = KMT_assistance_to_CHI
			}
			is_puppet = no
			NOT = {
				has_war_with = GER
			}
			OR = {
				is_in_faction_with = GER
				GER = {
					has_opinion = {
						target = ROOT
						value > 90
					}
				}
			}
			OR = {
				JAP = {
					OR = {
						is_in_faction_with = GER
						has_opinion = {
							target = JAP
							value > 49
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = GER_JAP_tripartite_pact_tt
					has_global_flag = GER_JAP_tripartite_pact
				}
			}
			GER = {
				exists = yes
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
			JAP = {
				has_offensive_war_with = ROOT
			}
			NOT = {
				has_global_flag = jap_civil_war_sf
			}
		}
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.233 }
			}
		}
	}
	
	focus = {
		id = KMT_force_japan_to_cede_land
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = KMT_force_japan_to_accept_peace }
		relative_position_id = KMT_force_japan_to_accept_peace
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			NOT = {
				has_war_with = JAP
			}
			GER = {
				has_idea = KMT_assistance_to_CHI
			}
			is_puppet = no
			NOT = {
				has_war_with = GER
			}
			OR = {
				is_in_faction_with = GER
				GER = {
					has_opinion = {
						target = ROOT
						value > 90
					}
				}
			}
			OR = {
				JAP = {
					OR = {
						is_in_faction_with = GER
						has_opinion = {
							target = GER
							value > 49
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = GER_JAP_tripartite_pact_tt
					has_global_flag = GER_JAP_tripartite_pact
				}
			}
			GER = {
				exists = yes
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = KMT_any_state_chi_core_jap_own_tt
				any_of_scopes = {
					array = Root.core_states
					
					#is_core_of = ROOT
					OR = {
						is_owned_by = JAP
						owner = {
							is_puppet_of = JAP
						}
					}
				}
			}
			NOT = {
				has_global_flag = jap_civil_war_sf
			}
		}
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.240 }
			}
		}
	}
	
	focus = {
		id = KMT_german_tanks
		icon = GFX_goal_indyclone_achtung_panzer
		prerequisite = { focus = KMT_increase_sino_german_cooperation }
		relative_position_id = KMT_increase_sino_german_cooperation
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = KMT_german_approved_tt
				has_global_flag = KMT_german_approved_global
			}
			NOT = {
				has_war_with = GER
			}
			GER = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			hidden_effect = {
				set_technology =  { tech_panzer_ii_equipment_1 = 1 }
			}
			if = {
				limit = {
					has_defensive_war = yes
				}
				add_equipment_to_stockpile = { type = panzer_ii_equipment_1 amount = 120 producer = GER }
			}
			else = {
				add_equipment_to_stockpile = { type = panzer_ii_equipment_1 amount = 60 producer = GER }
				custom_effect_tooltip = KMT_more_if_in_defensive_war_tt
			}
		}
	}
	
	##### Soviet Union #####
	
	focus = {
		id = CHI_claim_soviet
		icon = GFX_goal_chi_expell_sov
		mutually_exclusive = { focus = KMT_sino_soviet_non_agression_pact }
		relative_position_id = KMT_invite_foreign_investors
		x = -11
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_ANNEXATION}
		
		available = {
			NOT = {
				has_non_aggression_pact_with = SOV
				has_global_flag = KMT_sino_soviet_neutrality
			}
		}
		
		completion_reward = {
			add_political_power = 50
			564 = {
				add_core_of = ROOT
			}
			563 = {
				add_core_of = ROOT
			}
			561 = {
				add_core_of = ROOT
			}
			560 = {
				add_core_of = ROOT
			}
			657 = {
				add_core_of = ROOT
			}
			408 = {
				add_core_of = ROOT
			}
			409 = {
				add_core_of = ROOT
			}	
			655 = {
				add_core_of = ROOT
			}			
		}
	}
	
	focus = {
		id = KMT_sino_soviet_non_agression_pact
		icon = GFX_goal_chi_investor_sov
		mutually_exclusive = { focus = CHI_claim_soviet }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = -9
		y = 1
		cost = 35
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = SOV
				SOV = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_opinion = {
					target = ROOT
					value > -11
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		bypass = {
			has_global_flag = KMT_sino_soviet_neutrality
		}
		
		completion_reward = {
			SOV = {
				country_event = { id = kmt.407 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
					add_opinion_modifier = { target = ROOT modifier = KMT_SOV_neutrality_pact }
				}
				diplomatic_relation = {
					country = SOV
					relation = non_aggression_pact
					active = yes
				}
				add_opinion_modifier = { modifier = KMT_SOV_neutrality_pact target = SOV}
			}
		}
	}
	
	focus = {
		id = KMT_soviet_advisors
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = KMT_sino_soviet_non_agression_pact }
		relative_position_id = KMT_sino_soviet_non_agression_pact
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_sov_advisor_ssnap
		}
	}
	
	focus = {
		id = KMT_soviet_volunteer_groups
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = KMT_sino_soviet_non_agression_pact }
		relative_position_id = KMT_sino_soviet_non_agression_pact
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		available = {
			NOT = {
				has_war_with = SOV
			}
			has_war = yes
			SOV = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_equipment_to_stockpile = { type = i_15_equipment_1 amount = 62 producer = SOV } # I-15
			add_equipment_to_stockpile = { type = i_16_equipment_1 amount = 93 producer = SOV } # I-16
			add_equipment_to_stockpile = { type = sb_2m_bomber_equipment_1 amount = 60 producer = SOV } # SB-2
			add_ideas = KMT_SOV_air_volunteers
		}
	}
	
	focus = {
		id = KMT_purchase_soviet_aircrafts
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = KMT_soviet_volunteer_groups }
		prerequisite = { focus = KMT_soviet_advisors }
		relative_position_id = KMT_soviet_advisors
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			SOV = { 
				country_event = { id = kmt.600 }
				country_event = { id = kmt.604 days = 365 }
				country_event = { id = kmt.608 days = 730 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					send_equipment = {
						target = CHI
						type = fighter_equipment
						amount = 150
					}
					send_equipment = {
						target = CHI
						type = light_bomber_equipment
						amount = 75
					}
				}
				SOV = {
					send_equipment = {
						target = CHI
						type = fighter_equipment
						amount = 200
					}
					send_equipment = {
						target = CHI
						type = light_bomber_equipment
						amount = 100
					}
				}
				SOV = {
					send_equipment = {
						target = CHI
						type = fighter_equipment
						amount = 250
					}
					send_equipment = {
						target = CHI
						type = light_bomber_equipment
						amount = 125
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_soviet_tanks
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = KMT_sino_soviet_non_agression_pact }
		relative_position_id = KMT_sino_soviet_non_agression_pact
		x = -1
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			hidden_effect = {
				set_technology =  { tech_light_soviet_tank_a = 1 }
			}
			army_experience = 15
			if = {
				limit = {
					has_defensive_war = yes
				}
				add_equipment_to_stockpile = { type = light_soviet_tank_equipment_1 amount = 120 producer = SOV }
			}
			else = {
				add_equipment_to_stockpile = { type = light_soviet_tank_equipment_1 amount = 60 producer = SOV }
				custom_effect_tooltip = KMT_more_if_in_defensive_war_tt
			}
		}
	}
	
	focus = {
		id = KMT_soviet_equipments
		icon = GFX_goal_generic_army_artillery
		prerequisite = { focus = KMT_sino_soviet_non_agression_pact }
		relative_position_id = KMT_sino_soviet_non_agression_pact
		x = 3
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = SOV
			}
			SOV = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			if = {
				limit = {
					has_defensive_war = yes
				}
				add_equipment_to_stockpile = { type = infantry_equipment amount = 8000 producer = SOV }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 500 producer = SOV }
				add_equipment_to_stockpile = { type = support_equipment amount = 2500 producer = SOV }
				else = {
					add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = SOV }
					add_equipment_to_stockpile = { type = artillery_equipment amount = 200 producer = SOV }
					add_equipment_to_stockpile = { type = support_equipment amount = 500 producer = SOV }
					custom_effect_tooltip = KMT_more_if_in_defensive_war_tt
				}
			}
		}
	}
	
	##### Netherlands (Holland) #####
	
	focus = {
		id = KMT_HOL_friend
		icon = GFX_goal_chi_investor_hol
		mutually_exclusive = { focus = KMT_anti_HOL }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = -7
		y = 1
		cost = 20
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_tech_bonus = {
				name = naval_bonus
				bonus = 0.35
				uses = 5
				category = naval_equipment
			}
		}
	}
	
	focus = {
		id = KMT_anti_HOL
		icon = GFX_goal_chi_expell_hol
		mutually_exclusive = { focus = KMT_HOL_friend }
		relative_position_id = KMT_HOL_friend
		x = 2
		y = 0
		cost = 20
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_political_power = 25
			reverse_add_opinion_modifier = {
				target = HOL
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_hol
		}
	}
	
	##### France (French Republic) #####
	
	focus = {
		id = KMT_closer_tie_with_fra
		icon = GFX_goal_chi_investor_fra
		mutually_exclusive = { focus = KMT_anti_FRA }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = -1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = FRA
				FRA = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
			}
			FRA = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			FRA = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = FRA
				}
				diplomatic_relation = {
					country = FRA
					relation = non_aggression_pact
					active = yes
				}
				FRA = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_anti_FRA
		icon = GFX_goal_chi_expell_fra
		mutually_exclusive = { focus = KMT_closer_tie_with_fra }
		relative_position_id = KMT_closer_tie_with_fra
		x = -2
		y = 0
		cost = 30
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		available = {
			FRA = {
				exists = yes
			}
		}
		
		completion_reward = {
			add_political_power = 50
			reverse_add_opinion_modifier = {
				target = FRA
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_fra
		}
	}
	
	focus = {
		id = KMT_yunnan_bahn
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = KMT_closer_tie_with_fra }
		relative_position_id = KMT_closer_tie_with_fra
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			325 = {
				controller = {
					NOT = {
						has_war_with = ROOT
					}
					OR = {
						tag = ROOT
						is_puppet_of = ROOT
						is_in_faction_with = ROOT
						has_war_together_with = ROOT
					}
				}
			}
			671 = {
				controller = {
					NOT = {
						has_war_with = ROOT
					}
					OR = {
						tag = FRA
						is_puppet_of = FRA
						is_in_faction_with = FRA
						has_war_together_with = FRA
					}
				}
			}
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_yunnan_bahn_idea
			784 = {
				set_state_flag = CHI_needed_for_hanoi_route
				if = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							325 = {
								owner = { NOT = { tag = ROOT }}
							}
						}
						325 = {
							owner = {
								country_event = { id = kmt.503 }
							}
						}
					}
				}
			}
			671 = {
				set_state_flag = CHI_needed_for_hanoi_route
			}
			set_global_flag = CHI_guarantee_the_hanoi_route_completed
		}
	}
	
	focus = {
		id = KMT_defense_of_indo_china
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = KMT_yunnan_bahn }
		relative_position_id = KMT_yunnan_bahn
		x = 0
		y = 4
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = yes
				NOT = { controls_state = 16 }
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
			FRA = {
				OR = {
					741 = { is_controlled_by_PREV_or_subject = yes }
					671 = { is_controlled_by_PREV_or_subject = yes }
					670 = { is_controlled_by_PREV_or_subject = yes }
					286 = { is_controlled_by_PREV_or_subject = yes }
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					FRA = {
						has_civil_war = yes
					}
				}
				country_event = {
					id = kmt.524
				}
				else = {
					FRA = { country_event = { id = kmt.520 }}
				}
			}
		}
	}
	
	focus = {
		id = KMT_purchase_french_equipments
		icon = GFX_focus_generic_combined_arms
		prerequisite = { focus = KMT_closer_tie_with_fra }
		relative_position_id = KMT_closer_tie_with_fra
		x = -2
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			if = {
				limit = {
					has_defensive_war = yes
				}
				add_equipment_to_stockpile = { type = infantry_equipment amount = 8000 producer = FRA }
				add_equipment_to_stockpile = { type = french_infantry_tank_equipment_1 amount = 90 producer = FRA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 500 producer = FRA }
				add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = FRA }
			}
			else = {
				add_equipment_to_stockpile = { type = infantry_equipment amount = 2000 producer = FRA }
				add_equipment_to_stockpile = { type = artillery_equipment amount = 200 producer = FRA }
				add_equipment_to_stockpile = { type = french_infantry_tank_equipment_1 amount = 60 producer = FRA }
				custom_effect_tooltip = KMT_more_if_in_defensive_war_tt
			}
		}
	}
	
	focus = {
		id = KMT_french_military_mission
		icon = GFX_goal_fra_soldiers_fire
		prerequisite = { focus = KMT_purchase_french_equipments }
		relative_position_id = KMT_purchase_french_equipments
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_french_military_advisor
		}
	}
	
	focus = {
		id = KMT_french_drill
		icon = GFX_goal_officer_salute
		prerequisite = { focus = KMT_french_military_mission }
		relative_position_id = KMT_french_military_mission
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = FRA
			}
			FRA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 15
			swap_ideas = {
				remove_idea = KMT_french_military_advisor
				add_idea = KMT_french_military_advisor_drill
			}
		}
	}
	
	focus = {
		id = KMT_static_defense
		icon = GFX_goal_fra_forts
		prerequisite = { focus = KMT_french_military_mission }
		relative_position_id = KMT_french_military_mission
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			add_ideas = KMT_static_defense_focus
		}
	}
	
	##### Kingdom of Italy #####
	
	focus = {
		id = KMT_ITA_friend
		icon = GFX_goal_chi_investor_ita
		mutually_exclusive = { focus = KMT_anti_ITA }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_anti_ENG
		x = 2
		y = 0
		cost = 20
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_tech_bonus = {
				name = military_police
				bonus = 0.50
				uses = 2
				category = military_police_tech	
			}
			add_tech_bonus = {
				name = military_police
				bonus = 0.25
				uses = 1
				category = ww1_doctrine
			}
		}
	}
	
	focus = {
		id = KMT_anti_ITA
		icon = GFX_goal_chi_expell_ita
		mutually_exclusive = { focus = KMT_ITA_friend }
		relative_position_id = KMT_ITA_friend
		x = 2
		y = 0 
		cost = 20
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_political_power = 25
			reverse_add_opinion_modifier = {
				target = ITA
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_ita
		}
	}
	
	##### United States of America (USA) #####
	
	focus = {
		id = KMT_closer_tie_with_usa
		icon = GFX_goal_chi_investor_usa
		mutually_exclusive = { focus = KMT_anti_USA }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = 11
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = USA
				USA = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
				}
			}
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
			}
			USA = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			USA = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = USA
				}
				diplomatic_relation = {
					country = USA
					relation = non_aggression_pact
					active = yes
				}
				USA = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_anti_USA
		icon = GFX_goal_chi_expell_usa
		mutually_exclusive = { focus = KMT_closer_tie_with_usa }
		relative_position_id = KMT_closer_tie_with_usa
		x = -2
		y = 0
		cost = 28
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_political_power = 50
			reverse_add_opinion_modifier = {
				target = USA
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_usa
		}
	}
	
	focus = {
		id = KMT_introduce_shipbuilding_technology
		icon = GFX_goal_blueprint_navy
		prerequisite = { focus = KMT_closer_tie_with_usa }
		relative_position_id = KMT_closer_tie_with_usa
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_war_with = USA
					}
					USA = {
						has_idea = KMT_assistance_to_CHI
						has_idea = liberty_ships_focus
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						is_alone_or_in_faction_at_peace_with_CHI = yes
					}
				}
				add_ideas = liberty_ships_focus
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = dockyard
					level = 1
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = dd_bonus
				uses = 1
				bonus = 0.5
				category = dd_tech
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_navy
				}
				remove_ideas = incompetent_industry_real_navy
			}
			if = {
				limit = {
					has_idea = incompetent_industry_fake_navy
				}
				remove_ideas = incompetent_industry_fake_navy
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_2_navy
				}
				remove_ideas = incompetent_industry_real_2_navy
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_3_navy
				}
				remove_ideas = incompetent_industry_real_3_navy
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_4_navy
				}
				remove_ideas = incompetent_industry_real_4_navy
			}
			if = {
				limit = {
					has_idea = incompetent_industry_real_5_navy
				}
				remove_ideas = incompetent_industry_real_5_navy
			}
		}
	}
	
	focus = {
		id = KMT_order_destroyers
		icon = GFX_focus_generic_destroyer
		prerequisite = { focus = KMT_introduce_shipbuilding_technology }
		relative_position_id = KMT_introduce_shipbuilding_technology
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 15
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = dd_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_light
				}
				if = {
					limit = {
						has_tech = basic_ship_hull_light
					}
					add_tech_bonus = {
						name = dd_bonus
						uses = 1
						bonus = 0.25
						category = dd_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = dd_bonus
						uses = 1
						bonus = 0.50
						technology = basic_ship_hull_light
					}
				}
			}
			else = {
				if = {
					limit = {
						has_tech = basic_destroyer
					}
					add_tech_bonus = {
						name = dd_bonus
						uses = 1
						bonus = 0.25
						category = dd_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = dd_bonus
						uses = 1
						bonus = 0.50
						technology = basic_destroyer
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_cruiser_researches
		icon = GFX_focus_generic_cruiser2
		prerequisite = { focus = KMT_introduce_shipbuilding_technology }
		relative_position_id = KMT_introduce_shipbuilding_technology
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 15
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = cr_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_medium
				}
				if = {
					limit = {
						has_tech = basic_ship_hull_cruiser
					}
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.25
						category = cl_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.50
						technology = basic_ship_hull_cruiser
					}
				}
			}
			else = {
				if = {
					limit = {
						has_tech = basic_light_cruiser
					}
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.25
						category = cl_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.50
						technology = basic_light_cruiser
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_train_marines
		icon = GFX_goal_generic_amphibious_assault
		prerequisite = { focus = KMT_order_destroyers }
		relative_position_id = KMT_order_destroyers
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		completion_reward = {
			army_experience = 5
			navy_experience = 5
			if = {
				limit = {
					NOT = { has_tech = marines }
				}
				set_technology = { marines = 1 }
				else = {
					add_tech_bonus = {
						name = KMT_train_marines
						bonus = 0.5
						uses = 1
						category = marine_tech
					}
				}
			}
			custom_effect_tooltip = KMT_elite_marine_tt
			hidden_effect = {
				division_template = {
					name = "Lu Zhan Dui"
					template_counter = 3001
					
					regiments = { 
						marine = { x = 0 y = 0 } 
						marine = { x = 0 y = 1 } 
						marine = { x = 1 y = 0 } 
						marine = { x = 1 y = 1 } 
					}
					support = {
						DIV_HQ = { x = 0 y = 0 }
						engineer = { x = 0 y = 1 }
						recon = { x = 0 y = 2 }
					}					
				}
				random_owned_controlled_state = {
					prioritize = { 613 }
					create_unit = { 
						division = "name = \"Lu Zhan Dui\" division_template = \"Lu Zhan Dui\" start_experience_factor = 0.65 start_equipment_factor = 1" 
						owner = ROOT
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_heavy_cruiser_researches
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus = KMT_cruiser_researches }
		relative_position_id = KMT_cruiser_researches
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = cr_bonus
					bonus = 0.25
					uses = 1
					category = naval_battery_medium
				}
				if = {
					limit = {
						has_tech = basic_ship_hull_cruiser
					}
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.25
						category = ca_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.50
						technology = basic_ship_hull_cruiser
					}
				}
			}
			else = {
				if = {
					limit = {
						has_tech = basic_heavy_cruiser
					}
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.25
						category = ca_tech
					}
				}
				else = {
					add_tech_bonus = {
						name = cr_bonus
						uses = 1
						bonus = 0.50
						technology = early_heavy_cruiser
						technology = basic_heavy_cruiser
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_battleship_supremacy
		icon = GFX_focus_generic_navy_battleship2
		mutually_exclusive = { focus = KMT_naval_aviation }
		prerequisite = { focus = KMT_heavy_cruiser_researches }
		relative_position_id = KMT_heavy_cruiser_researches
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 10
			add_tech_bonus = {
				name = bb_bonus
				uses = 1
				bonus = 0.5
				category = bb_tech
			}
			if = {
				limit = {
					NOT = { has_dlc = "Man the Guns" }
				}
				add_tech_bonus = {
					name = bb_bonus
					bonus = 0.5
					uses = 1
					category = shbb_tech
				}
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					name = bb_bonus
					bonus = 0.5
					uses = 1
					category = naval_battery_heavy
				}
			}
		}
	}
	
	focus = {
		id = KMT_naval_aviation
		icon = GFX_goal_generic_navy_carrier
		prerequisite = { focus = KMT_heavy_cruiser_researches }
		mutually_exclusive = { focus = KMT_battleship_supremacy }
		relative_position_id = KMT_battleship_supremacy
		x = -2
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY FOCUS_FILTER_AIRFORCE }
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			navy_experience = 5
			air_experience = 5
			add_tech_bonus = {
				name = cv_bonus
				uses = 1
				bonus = 0.5
				category = cv_tech
			}
			add_tech_bonus = {
				name = KMT_naval_aviation
				uses = 1
				bonus = 0.5
				category = naval_air
			}
		}
	}
	
	focus = {
		id = KMT_consolidate_our_naval_doctrine
		icon = GFX_focus_generic_coastal_fort
		prerequisite = { focus = KMT_battleship_supremacy focus = KMT_naval_aviation }
		relative_position_id = KMT_battleship_supremacy
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_NAVY }
		
		available = {
			has_navy_size = {
				size > 34
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_if_have_completed_bb_tt
			effect_tooltip = {
				navy_experience = 25
				add_tech_bonus = {
					uses = 2
					bonus = 0.5
					category = naval_doctrine_fleet_in_being
				}
				add_ideas = KMT_battleship_supremacy_idea
			}
			custom_effect_tooltip = KMT_if_have_completed_cv_tt
			effect_tooltip = {
				navy_experience = 10
				air_experience = 15
				add_tech_bonus = {
					name = KMT_consolidate_our_naval_doctrine
					uses = 2
					bonus = 0.5
					category = naval_doctrine_carrier
				}
				add_ideas = KMT_naval_aviation_idea
			}
			hidden_effect = {
				if = {
					limit = {
						has_completed_focus = KMT_battleship_supremacy
					}
					navy_experience = 25
					add_tech_bonus = {
						name = KMT_consolidate_our_naval_doctrine
						uses = 2
						bonus = 0.5
						category = naval_doctrine_fleet_in_being
					}
					add_ideas = KMT_battleship_supremacy_idea
				}
				if = {
					limit = {
						has_completed_focus = KMT_naval_aviation
					}
					navy_experience = 10
					air_experience = 15
					add_tech_bonus = {
						name = KMT_consolidate_our_naval_doctrine
						uses = 2
						bonus = 0.5
						category = naval_doctrine_carrier
					}
					add_ideas = KMT_naval_aviation_idea
				}
			}
		}
	}
	
	focus = {
		id = KMT_saco
		icon = GFX_focus_generic_cryptologic_bomb
		prerequisite = { focus = KMT_closer_tie_with_usa }
		relative_position_id = KMT_closer_tie_with_usa
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			any_enemy_country = {
				has_war_with = USA
			}
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_saco
				uses = 2
				bonus = 0.5
				category = mountaineers_tech
				category = marine_tech
				category = para_tech
				category = computing_tech
			}
		}
	}
	
	# US aircraft branch
	
	focus = {
		id = KMT_hire_chennault
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = KMT_closer_tie_with_usa }
		relative_position_id = KMT_closer_tie_with_usa
		x = -3
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		available = {
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_chennault
			custom_effect_tooltip = available_air_chief
			show_ideas_tooltip = CHI_claire_lee_chennault_air_chief
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_claire_lee_chennault_air_theorist
		}
	}
	
	focus = {
		id = KMT_the_international_squadron
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus = KMT_hire_chennault }
		relative_position_id = KMT_hire_chennault
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			air_experience = 10
			add_tech_bonus = {
				name = KMT_the_international_squadron
				uses = 1
				bonus = 0.25
				category = air_doctrine
			}
			swap_ideas = {
				remove_idea = KMT_chennault
				add_idea = KMT_chennault_international_squadron
			}
		}
	}
	
	focus = {
		id = KMT_the_flying_tigers
		icon = GFX_focus_chi_flying_tigers
		prerequisite = { focus = KMT_the_international_squadron }
		relative_position_id = KMT_the_international_squadron
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		available = {
			has_defensive_war = yes
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			air_experience = 30
			USA = {
				country_event = wtt_china_shared.10
			}
			#custom_effect_tooltip = kmt_ftf_tt
			#hidden_effect = {
			#	add_manpower = 150
			#	USA = {
			#		send_equipment = {
			#			target = ROOT
			#			type = fighter_equipment
			#			amount = 150
			#		}	
			#	}
			#}
			add_opinion_modifier = {
				target = USA
				modifier = flying_tigers
			}
			if = {
				limit = {
					has_idea = KMT_chennault_reorganised_air_force
				}
				swap_ideas = {
					remove_idea = KMT_chennault_reorganised_air_force
					add_idea = KMT_tft_reorganised
				}
				else = {
					swap_ideas = {
						remove_idea = KMT_chennault_international_squadron
						add_idea = KMT_tft
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_cacw
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = KMT_the_flying_tigers }
		relative_position_id = KMT_the_flying_tigers
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		available = {
			any_enemy_country = {
				has_war_with = USA
			}
			NOT = {
				has_war_with = USA
			}
			USA = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			air_experience = 20
			add_ideas = KMT_cacw_idea
		}
	}
	
	focus = {
		id = KMT_reorganise_the_air_force
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = KMT_the_international_squadron }
		relative_position_id = KMT_the_international_squadron
		x = -1
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			air_experience = 30
			add_tech_bonus = {
				name = KMT_reorganise_the_air_force
				uses = 1
				bonus = 0.5
				category = air_doctrine
			}
			if = {
				limit = {
					has_idea = KMT_tft
				}
				swap_ideas = {
					remove_idea = KMT_tft
					add_idea = KMT_tft_reorganised
				}
				else = {
					swap_ideas = {
						remove_idea = KMT_chennault_international_squadron
						add_idea = KMT_chennault_reorganised_air_force
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_improve_design
		icon = GFX_goal_generic_production2
		prerequisite = { focus = KMT_hire_chennault }
		prerequisite = { focus = KMT_develop_our_own_fighters }
		relative_position_id = KMT_hire_chennault
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_improve_design
				uses = 1
				bonus = 0.5
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	
	##### Foreign Tanks #####
	
	focus = {
		id = KMT_joint_tank_dev
		icon = GFX_goal_generic_draw_up_plans
		prerequisite = { focus = KMT_soviet_tanks focus = KMT_german_tanks focus = KMT_purchase_french_equipments }
		relative_position_id = KMT_soviet_tanks
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_RESEARCHCENTER}
		
		available = {
			OR = {
				AND = {
					NOT = { has_war_with = GER }
					GER = {
						has_idea = KMT_assistance_to_CHI
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						custom_trigger_tooltip = {
							tooltip = KMT_alone_or_peace_faction_tt
							is_alone_or_in_faction_at_peace_with_CHI = yes
						}
					}
				}
				AND = {
					NOT = { has_war_with = SOV }
					SOV = {
						has_idea = KMT_assistance_to_CHI
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						custom_trigger_tooltip = {
							tooltip = KMT_alone_or_peace_faction_tt
							is_alone_or_in_faction_at_peace_with_CHI = yes
						}
					}
				}
				AND = {
					NOT = { has_war_with = FRA }
					FRA = {
						has_idea = KMT_assistance_to_CHI
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						custom_trigger_tooltip = {
							tooltip = KMT_alone_or_peace_faction_tt
							is_alone_or_in_faction_at_peace_with_CHI = yes
						}
					}
				}
			}
		}
		
		completion_reward = {	
			add_tech_bonus = {
				name = KMT_joint_tank_dev
				bonus = 0.25
				uses = 1
				category = armor
			}
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:armor_folder = yes
			SLOT:tank_techs_folder = yes	
		}
	}
	
	focus = {
		id = KMT_local_tank_assembly_plants
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = KMT_joint_tank_dev }
		relative_position_id = KMT_joint_tank_dev
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				add_building_construction = {
					type = tank_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = KMT_mechanised_warfare
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = KMT_joint_tank_dev }
		relative_position_id = KMT_joint_tank_dev
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_mechanised_warfare
				uses = 1
				bonus = 0.5
				category = motorized_equipment
			}
		}
	}
	
	##### Foreign Aircraft #####
	
	focus = {
		id = KMT_fighter_purchases
		icon = GFX_goal_generic_air_fighter2
		prerequisite = { focus = KMT_closer_tie_with_usa focus = KMT_closer_tie_with_eng }
		relative_position_id = KMT_closer_tie_with_usa
		x = -6
		y = 1
		cost = 70 
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		available = {
			OR = {
				AND = {
					NOT = {
						has_war_with = USA
					}
					USA = {
						has_idea = KMT_assistance_to_CHI
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						custom_trigger_tooltip = {
							tooltip = KMT_alone_or_peace_faction_tt
							is_alone_or_in_faction_at_peace_with_CHI = yes
						}
					}
				}
				AND = {
					NOT = {
						has_war_with = ENG
					}
					ENG = {
						has_idea = KMT_assistance_to_CHI
						has_opinion = {
							target = ROOT
							value > 0
						}
						exists = yes
						has_capitulated = no
						is_puppet = no
						custom_trigger_tooltip = {
							tooltip = KMT_alone_or_peace_faction_tt
							is_alone_or_in_faction_at_peace_with_CHI = yes
						}
					}
				}
			}
		}
		
		completion_reward = {
			air_experience = 5
			custom_effect_tooltip = KMT_if_have_completed_eng_tt
			effect_tooltip = {
				if = {
					limit = { ENG = { has_tech = tech_gladiator_fighter_equipment_1 } }
					add_equipment_to_stockpile = { # Gloster Gladiator
						type = gladiator_fighter_equipment_1
						amount = 36
						producer = ENG
					}
				}
				else = {
					add_equipment_to_stockpile = { # Alternate incase no tech
						type = hawker_demon_equipment_1
						amount = 36
						producer = ENG
					}
				}
			}
			custom_effect_tooltip = KMT_if_have_completed_usa_tt
			effect_tooltip = {
				add_equipment_to_stockpile = { # Hawk III
					type = curtiss_hawk3_mr_equipment_1
					amount = 102
					producer = USA
				}
				if = {
					limit = { USA = { has_tech = tech_vultee_a19_equipment_1 } }
					add_equipment_to_stockpile = { # Vultee V-12
						type = vultee_a19_equipment_1
						amount = 25
						producer = USA
					}
				}
				else = {
					add_equipment_to_stockpile = { # A-17 as alternate
						type = northrop_a17_equipment_1
						amount = 25
						producer = USA
					}
				}
				add_equipment_to_stockpile = { # A-12 Shrike
					type = curtiss_a12_equipment_1
					amount = 20
					producer = USA
				}
				add_equipment_to_stockpile = { # B-10
					type = martin_b10_bomber_equipment_1
					amount = 6
					producer = USA
				}
			}
			hidden_effect = {
				if = {
					limit = {
						ENG = {
							has_idea = KMT_assistance_to_CHI
						}
					}
					if = {
						limit = { ENG = { has_tech = tech_gladiator_fighter_equipment_1 } }
						add_equipment_to_stockpile = { # Gloster Gladiator
							type = gladiator_fighter_equipment_1
							amount = 36
							producer = ENG
						}
					}
					else = {
						add_equipment_to_stockpile = { # Alternate incase no tech
							type = hawker_demon_equipment_1
							amount = 36
							producer = ENG
						}
					}
				}
				if = {
					limit = {
						USA = {
							has_idea = KMT_assistance_to_CHI
						}
					}
					add_equipment_to_stockpile = { # Hawk III
						type = curtiss_hawk3_mr_equipment_1
						amount = 102
						producer = USA
					}
					if = {
						limit = { USA = { has_tech = tech_vultee_a19_equipment_1 } }
						add_equipment_to_stockpile = { # Vultee V-12
							type = vultee_a19_equipment_1
							amount = 25
							producer = USA
						}
					}
					else = {
						add_equipment_to_stockpile = { # A-17 as alternate
							type = northrop_a17_equipment_1
							amount = 25
							producer = USA
						}
					}
					add_equipment_to_stockpile = { # A-12 Shrike
						type = curtiss_a12_equipment_1
						amount = 20
						producer = USA
					}
					add_equipment_to_stockpile = { # B-10
						type = martin_b10_bomber_equipment_1
						amount = 6
						producer = USA
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_develop_our_own_fighters
		icon = GFX_goal_continuous_air_production
		prerequisite = { focus = KMT_fighter_purchases }
		relative_position_id = KMT_fighter_purchases
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			add_tech_bonus = {
				name = KMT_develop_our_own_fighters
				uses = 1
				bonus = 0.25
				category = light_fighter
				category = cat_heavy_fighter
			}
		}
	}
	
	focus = {
		id = KMT_local_fighter_prod
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = KMT_setup_camco_assembly_plants }
		prerequisite = { focus = KMT_develop_our_own_fighters }
		relative_position_id = KMT_develop_our_own_fighters
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			air_experience = 5
			add_tech_bonus = {
				name = KMT_local_fighter_prod
				uses = 2
				bonus = 0.25
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = heavy_fighter2
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = camco_light
		}
	}
	
	focus = {
		id = KMT_local_bomber_prod
		icon = GFX_goal_generic_air_bomber
		prerequisite = { focus = KMT_local_fighter_prod }
		relative_position_id = KMT_local_fighter_prod
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE }
		
		completion_reward = {
			air_experience = 5
			add_tech_bonus = {
				name = KMT_local_bomber_prod
				uses = 2
				bonus = 0.25
				technology = early_bomber
				technology = light_bomber1
				technology = light_bomber2
				technology = tactical_bomber1
				technology = tactical_bomber2
				technology = strategic_bomber2
			}
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = camco_bomb
		}
	}
	
	##### Misc Invite Investors Focuses #####
	
	focus = {
		id = KMT_renounce_nine		# Renounce Nine-Powers Treaty
		icon = GFX_focus_renounce_the_treaty_of_trianon
		relative_position_id = KMT_invite_foreign_investors
		x = 6
		y = 0
		cost = 10
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			remove_ideas = CHI_nine_power_treaty
			set_temp_variable = { temp_power = -900 }
			if = {
				limit = {
					has_country_flag = nine_ita
				}
				add_to_temp_variable = { temp_power = 115 }
			}
			if = {
				limit = {
					has_country_flag = nine_eng
				}
				add_to_temp_variable = { temp_power = 200 }
			}
			if = {
				limit = {
					has_country_flag = nine_usa
				}
				add_to_temp_variable = { temp_power = 135 }
			}				
			if = {
				limit = {
					has_country_flag = nine_fra
				}
				add_to_temp_variable = { temp_power = 115 }
			}
			if = {
				limit = {
					has_country_flag = nine_jap
				}
				add_to_temp_variable = { temp_power = 135 }
			}
			if = {
				limit = {
					has_country_flag = nine_por
				}
				add_to_temp_variable = { temp_power = 100 }
			}
			if = {
				limit = {
					has_country_flag = nine_bel
				}
				add_to_temp_variable = { temp_power = 100 }
			}
			if = {
				limit = {
					has_country_flag = nine_hol
				}
				add_to_temp_variable = { temp_power = 100 }
			}
			add_political_power = temp_power			
		}
	}
	
	focus = {
		id = KMT_anti_JAP
		icon = GFX_goal_chi_expell_jap
		relative_position_id = KMT_invite_foreign_investors
		x = 8
		y = 0
		cost = 20
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			613 = {
				set_demilitarized_zone = no
			}
			reverse_add_opinion_modifier = {
				target = JAP
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_jap
		}
	}
	
	########## Internal Politics Branch ##########
	
	focus = {
		id = KMT_strengthen_the_republic
		icon = GFX_goal_generic_alliance
		relative_position_id = KMT_invite_foreign_investors
		x = 19
		y = 0
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_timed_idea = {
				idea = KMT_strengthening_the_republic
				days = 365
			}
		}
	}
	
	##### Democratic Branch #####
	
	focus = {
		id = KMT_democratic_republic
		icon = GFX_goal_chi_democracy
		mutually_exclusive = { focus = KMT_military_dictatorship }
		prerequisite = { focus = KMT_strengthen_the_republic }
		relative_position_id = KMT_strengthen_the_republic
		x = 2
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_ideas = KMT_into_democracy
		}
	}
	
	focus = {
		id = KMT_voting_rights
		icon = GFX_goal_chi_lawbook
		prerequisite = { focus = KMT_military_dictatorship focus = KMT_democratic_republic }
		relative_position_id = KMT_democratic_republic
		x = -2
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 150
			set_rule = {
				can_generate_female_aces = yes
			}
			custom_effect_tooltip = KMT_if_have_completed_democratic_tt
			effect_tooltip = {
				add_ideas = KMT_new_constitution_democratic
			}
			custom_effect_tooltip = KMT_voting_rights_tt
			custom_effect_tooltip = KMT_if_have_completed_fascism_tt
			effect_tooltip = {
				add_ideas = KMT_new_constitution_fascism
				if = {
					limit = {
						NOT = {
							has_government = fascism
						}
					}
					set_politics = {
						ruling_party = fascism
					}
					add_popularity = {
						ideology = neutrality
						popularity = -1
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						has_completed_focus = KMT_democratic_republic
					}
					add_ideas = KMT_new_constitution_democratic
					hidden_effect = {
						country_event = { id = kmt.20 }
					}
				}
				if = {
					limit = {
						has_completed_focus = KMT_military_dictatorship
					}
					add_ideas = KMT_new_constitution_fascism
					if = {
						limit = {
							NOT = {
								has_government = fascism
							}
						}
						set_politics = {
							ruling_party = fascism
						}
						add_popularity = {
							ideology = neutrality
							popularity = -1
						}
					}
				}
			}
		}
		
		historical_ai = {
			NOT = {
				has_war_with_major = yes
			}
		}
	}
	
	focus = {
		id = KMT_civ_control_of_mil
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = KMT_voting_rights }
		prerequisite = { focus = KMT_democratic_republic }
		relative_position_id = KMT_democratic_republic
		x = 1
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		completion_reward = {
			add_political_power = 25
			swap_ideas = {
				remove_idea = KMT_new_constitution_democratic
				add_idea = KMT_new_constitution_democratic_ccotm
			}
		}
	}
	
	focus = {
		id = KMT_ministry_of_national_defense
		icon = GFX_goal_focus_ministry_of_national_defense
		prerequisite = { focus = KMT_civ_control_of_mil }
		relative_position_id = KMT_civ_control_of_mil
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		search_filters = { FOCUS_FILTER_AIRFORCE }
		search_filters = { FOCUS_FILTER_NAVY }
		
		completion_reward = {
			army_experience = 25
			navy_experience = 10
			air_experience = 10
			add_ideas = KMT_ministry_of_national_defense_idea
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KMT_air_command_light
		}
	}
	
	focus = {
		id = KMT_clamp_corruption
		icon = GFX_focus_chi_examination_yuan
		prerequisite = { focus = KMT_civ_control_of_mil }
		relative_position_id = KMT_civ_control_of_mil
		x = 3
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		completion_reward = {
			swap_ideas = {
				remove_idea = KMT_corrupted_government
				add_idea = KMT_corrupted_government_lesser
			}
		}
	}
	
	focus = {
		id = KMT_end_corruption
		icon = GFX_focus_chi_legislative_yuan
		prerequisite = { focus = KMT_clamp_corruption }
		relative_position_id = KMT_clamp_corruption
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_INDUSTRY}
		
		available = {
			democratic_govt = yes
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = KMT_corrupted_government_lesser
				add_idea = civilian_economy
			}
		}
	}
	
	focus = {
		id = KMT_implement_parliamentary_system
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = KMT_voting_rights }
		prerequisite = { focus = KMT_democratic_republic }
		relative_position_id = KMT_democratic_republic
		x = -1
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			NOT = {
				has_government = fascism
			}
			if = {
				limit = {
					is_ai = yes
				}
				is_historical_focus_on = no
			}
		}
		
		completion_reward = {
			add_timed_idea = {
				idea = KMT_parliament
				days = 200
			}
			remove_ideas = CHI_communist_uprisings
			hidden_effect = {
				set_country_flag = kmt_land_problem_xed
			}
		}
	}
	
	focus = {
		id = KMT_allow_commie
		icon = GFX_goal_generic_dangerous_deal
		mutually_exclusive = { focus = KMT_ban_communism }
		prerequisite = { focus = KMT_implement_parliamentary_system }
		relative_position_id = KMT_implement_parliamentary_system
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			democratic_govt = yes
		}
		
		completion_reward = {
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
			add_ideas = KMT_communism_allowed
			if = {
				limit = {
					country_exists = PRC
				}
				PRC = {
					country_event = { id = kmt.555 }
				}
			}
		}
	}		
	
	focus = {
		id = KMT_universal_sufferage
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = KMT_civ_control_of_mil }
		relative_position_id = KMT_civ_control_of_mil
		x = 0
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			democratic_govt = yes
		}
		
		completion_reward = {
			add_ideas = KMT_universal_sufferage_ns
		}
	}
	
	focus = {
		id = KMT_european_friend
		icon = GFX_goal_generic_alliance
		mutually_exclusive = { focus = KMT_alone_in_the_east }
		prerequisite = { focus = KMT_universal_sufferage }
		relative_position_id = KMT_universal_sufferage
		x = -1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			democratic_govt = yes
			ENG = {
				democratic_govt = yes
				NOT = {
					is_puppet = yes
				}
				has_opinion = {
					target = ROOT
					value > 0
				}
				is_faction_leader = yes
			}
			NOT = {
				has_war_with = ENG
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					NOT = {
						is_in_faction_with = ENG
					}
				}
				ENG = {
					country_event = { id = kmt.21 days = 3 }
				}
				else = {
					add_political_power = 150
					set_global_flag = KMT_eng_accepts_chi_into_faction
				}
			}
		}
	}
	
	focus = {
		id = KMT_westernization
		icon = GFX_goal_generic_production
		prerequisite = { focus = KMT_european_friend }
		relative_position_id = KMT_european_friend
		x = -1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		search_filters = { FOCUS_FILTER_RESEARCH }
		
		available = {
			democratic_govt = yes
			custom_trigger_tooltip = {
				tooltip = KMT_eng_accepts_chi_into_faction_tt
				has_global_flag = KMT_eng_accepts_chi_into_faction
			}
		}
		
		completion_reward = {
			add_timed_idea = {
				idea = KMT_westernization_ns
				days = 365
			}
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:tank_techs_folder = yes
			SLOT:armor_folder = yes
			SLOT:air_techs_folder = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:industry_folder = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:naval_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
			SLOT:electronics_folder = yes
		}
	}
	
	focus = {
		id = KMT_alone_in_the_east
		icon = GFX_goal_generic_cavalry
		mutually_exclusive = { focus = KMT_european_friend }
		prerequisite = { focus = KMT_universal_sufferage }
		relative_position_id = KMT_universal_sufferage
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			democratic_govt = yes
			custom_trigger_tooltip = {
				tooltip = KMT_eng_no_accepts_chi_into_faction_tt
				NOT = { has_global_flag = KMT_eng_accepts_chi_into_faction }
			}
		}
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_ideas = KMT_firm_belief
		}
	}
	
	focus = {
		id = KMT_knowledge_of_the_citizens
		icon = GFX_focus_research2
		prerequisite = { focus = KMT_alone_in_the_east }
		relative_position_id = KMT_alone_in_the_east
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_RESEARCH }
		search_filters = { FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			democratic_govt = yes
			custom_trigger_tooltip = {
				tooltip = KMT_eng_no_accepts_chi_into_faction_tt
				NOT = { has_global_flag = KMT_eng_accepts_chi_into_faction }
			}
		}
		
		completion_reward = {
			add_ideas = KMT_people_knowledge
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:tank_techs_folder = yes
			SLOT:armor_folder = yes
			SLOT:air_techs_folder = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:industry_folder = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:naval_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
			SLOT:electronics_folder = yes
		}
	}
	
	focus = {
		id = KMT_trade_port_demo
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = KMT_european_friend focus = KMT_alone_in_the_east }
		relative_position_id = KMT_european_friend
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			democratic_govt = yes
			OR = {
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_gzw
					728 = {
						is_owned_by = FRA
						FRA = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_mc
					729 = {
						is_owned_by = POR
						POR = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_demo_tp_hk
					326 = {
						is_owned_by = ENG
						ENG = {
							has_civil_war = no
							NOT = {
								has_war_with = ROOT
							}
						}
					}
				}
			}
			OR = {
				custom_trigger_tooltip = {
					tooltip = KMT_eng_accepts_chi_into_faction_tt
					has_global_flag = KMT_eng_accepts_chi_into_faction
				}
				has_completed_focus = KMT_alone_in_the_east
			}
			if = {
				limit = {
					is_ai = yes
				}
				is_historical_focus_on = no
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					728 = {
						is_owned_by = FRA
					}
				}
				728 = {
					owner = {
						country_event = { id = kmt.109 }
					}
				}
			}
			if = {
				limit = {
					729 = {
						is_owned_by = POR
					}
				}
				729 = {
					owner = {
						country_event = { id = kmt.112 days = 1 }
					}
				}
			}
			if = {
				limit = {
					326 = {
						is_owned_by = ENG
					}
				}
				326 = {
					owner = {
						country_event = { id = kmt.115 days = 2 }
					}
				}
			}
		}
	}
	
	##### Fascist Branch #####
	
	focus = {
		id = KMT_military_dictatorship
		icon = GFX_goal_chi_fascism
		mutually_exclusive = { focus = KMT_democratic_republic }
		prerequisite = { focus = KMT_strengthen_the_republic }
		relative_position_id = KMT_strengthen_the_republic
		x = -2
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			NOT = {
				has_country_leader = {
					name = "Feng Yuxiang"
					ruling_only = yes
				}
				custom_trigger_tooltip = {
					tooltip = KMT_supported_fyx_tt
					has_country_flag = KMT_supported_fyx_in_xian_incident_chaing_killed_event
				}
			}
		}
		
		completion_reward = {
			add_ideas = KMT_military_dictatorship_idea
		}
	}
	
	focus = {
		id = KMT_supreme_leader
		icon = GFX_goal_generic_secret_weapon
		prerequisite = { focus = KMT_voting_rights }
		prerequisite = { focus = KMT_military_dictatorship }
		relative_position_id = KMT_military_dictatorship
		x = 1
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			has_government = fascism
		}
		
		completion_reward = {
			if = {
				limit = {
					has_country_leader = {
						name = "Chiang Kai-Shek"
						ruling_only = yes
					}
				}
				add_country_leader_trait = KMT_generalissimo_dictator
				else = {
					add_country_leader_trait = dictator
				}
			}
		}
	}
	
	focus = {
		id = KMT_ban_communism
		icon = GFX_goal_anti_comintern_pact
		mutually_exclusive = { focus = KMT_allow_commie }
		prerequisite = { focus = KMT_supreme_leader focus = KMT_implement_parliamentary_system }
		relative_position_id = KMT_supreme_leader
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL }
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		completion_reward = {
			add_popularity = {
				ideology = fascism
				popularity = 0.25
			}
			every_country = {
				limit = {
					has_government = communism
				}
				add_opinion_modifier = {
					target = ROOT
					modifier = KMT_commie_banned
				}
			}
			add_ideas = KMT_communism_banned
			if = {
				limit = {
					country_exists = PRC
				}
				create_wargoal = {
					target = PRC
					type = civil_war
				}
				if = {
					limit = {
						PRC = { is_subject_of = ROOT }
					}
					end_puppet = PRC
				}
			}
		}
	}
	
	focus = {
		id = KMT_join_the_axis
		icon = GFX_goal_support_fascism
		prerequisite = { focus = KMT_planning_our_empire }
		prerequisite = { focus = KMT_ban_communism }
		relative_position_id = KMT_ban_communism
		x = 0
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			GER = {
				is_faction_leader = yes
				has_government = fascism
				exists = yes
				is_puppet = no
				is_alone_or_in_faction_at_peace_with_CHI = yes
			}
			OR = {
				has_government = fascism
				fascism > 0.50
			}
			is_puppet = no
		}
		
		completion_reward = {
			GER = {
				country_event = { id = kmt.247 }
			}
		}
	}
	
	focus = {
		id = KMT_militarism_focus
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = KMT_voting_rights }
		prerequisite = { focus = KMT_military_dictatorship }
		relative_position_id = KMT_military_dictatorship
		x = -1
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_government = fascism
		}
		
		completion_reward = {
			add_ideas = KMT_militarism
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = KMT_air_command_light
		}
	}
	
	focus = {
		id = KMT_war_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = KMT_militarism_focus focus = KMT_supreme_leader }
		relative_position_id = KMT_militarism_focus
		x = 0
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_MANPOWER FOCUS_FILTER_WAR_SUPPORT }
		
		completion_reward = {
			add_ideas = KMT_war_propaganda_idea
		}
	}
	
	focus = {
		id = KMT_military_first
		icon = GFX_goal_organize_military_research_branch
		prerequisite = { focus = KMT_war_propaganda }
		relative_position_id = KMT_militarism_focus
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY FOCUS_FILTER_MANPOWER FOCUS_FILTER_RESEARCHCENTER }
		
		available = {
			has_government = fascism
		}
		
		completion_reward = {
			swap_ideas = {
				remove_idea = KMT_militarism
				add_idea = KMT_military_first_idea
			}
			add_research_slot = 1
			add_research_centre = yes	
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:naval_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
		}
	}
	
	focus = {
		id = KMT_planning_our_empire
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = KMT_war_propaganda }
		relative_position_id = KMT_war_propaganda
		x = 2
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_WAR_SUPPORT FOCUS_FILTER_POLITICAL }
		
		available = {
			has_government = fascism
		}
		
		completion_reward = {
			set_rule = { can_create_factions = yes }
			add_ideas = KMT_empire_plan
		}
	}
	
	focus = {
		id = KMT_claim_territory
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = KMT_military_first }
		prerequisite = { focus = KMT_planning_our_empire }
		relative_position_id = KMT_military_first
		x = 0
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			has_government = fascism
		}
		
		completion_reward = {
			add_state_claim = 732
			add_state_claim = 564
			add_state_claim = 563
			add_state_claim = 586
			add_state_claim = 589
			add_state_claim = 330
			add_state_claim = 329
			add_state_claim = 561
			add_state_claim = 560
			add_state_claim = 408
			add_state_claim = 409
			add_state_claim = 537
			add_state_claim = 657
			add_state_claim = 655
			add_state_claim = 525
			add_state_claim = 527
			add_state_claim = 671
			add_state_claim = 670
			add_state_claim = 286
			add_state_claim = 323
			add_state_claim = 324
			add_state_claim = 742
			add_state_claim = 741
			434 = {
				add_core_of = ROOT
			}
			441 = {
				add_core_of = ROOT
			}
		}
	}
	
	focus = {
		id = KMT_demand_soviet_puppets
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = KMT_claim_territory }
		relative_position_id = KMT_claim_territory
		x = -1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			OR = {
				330 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				617 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				618 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				287 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				619 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				329 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
			}
			has_army_manpower = {
				size > 2499999
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_demand_soviet_puppets_tt
			hidden_effect = {
				if = {
					limit = {
						330 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					330 = {
						owner = {
							set_country_flag = KMT_mongolia_demanded #330
							country_event = { id = kmt.51 days = 4 }
						}
					}
				}
				if = {
					limit = {
						287 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					287 = {
						owner = {
							set_country_flag = KMT_taklamakan_demanded #287
							country_event = { id = kmt.51 days = 3 }
						}
					}
				}
				if = {
					limit = {
						617 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					617 = {
						owner = {
							set_country_flag = KMT_urumqi_demanded #617
							country_event = { id = kmt.51 days = 3 }
						}
					}
				}
				if = {
					limit = {
						618 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					618 = {
						owner = {
							set_country_flag = KMT_dzungaria_demanded #618
							country_event = { id = kmt.51 days = 3 }
						}
					}
				}
				if = {
					limit = {
						619 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					619 = {
						owner = {
							set_country_flag = KMT_yarkand_demanded #619
							country_event = { id = kmt.51 days = 3 }
						}
					}
				}
				if = {
					limit = {
						329 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					329 = {
						owner = {
							set_country_flag = KMT_TAN_demanded #329
							country_event = { id = kmt.51 days = 5 }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_demand_indochina
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = KMT_claim_territory }
		relative_position_id = KMT_claim_territory
		x = 1
		y = 1
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			OR = {
				671 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				670 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				286 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
				741 = {
					NOT = {
						is_owned_by = ROOT
					}
				}
			}
			has_army_manpower = {
				size > 2499999
			}
		}
		
		completion_reward = {
			custom_effect_tooltip = KMT_demand_indochina_tt
			hidden_effect = {
				if = {
					limit = {
						671 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					671 = {
						owner = {
							set_country_flag = KMT_tonkin_demanded #671
							country_event = { id = kmt.55 days = 3 }
						}
					}
				}
				if = {
					limit = {
						670 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					670 = {
						owner = {
							set_country_flag = KMT_laos_demanded #670
							country_event = { id = kmt.55 days = 3 }
						}
					}
				}
				if = {
					limit = {
						286 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					286 = {
						owner = {
							set_country_flag = KMT_indochina_demanded #286
							country_event = { id = kmt.55 days = 3 }
						}
					}
				}
				if = {
					limit = {
						741 = {
							owner = {
								NOT = {
									tag = ROOT
								}
							}
						}
					}
					741 = {
						owner = {
							set_country_flag = KMT_cambodia_demanded #741
							country_event = { id = kmt.55 days = 3 }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_trade_port_fascism
		icon = GFX_goal_support_fascism
		prerequisite = { focus = KMT_claim_territory }
		relative_position_id = KMT_claim_territory
		x = 0
		y = 2
		offset = {
			x = -5
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 70
		search_filters = { FOCUS_FILTER_ANNEXATION }
		
		available = {
			has_government = fascism
			OR = {
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_gzw
					728 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_mc
					729 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
				custom_trigger_tooltip = {
					tooltip = kmt_neutral_tp_hk
					326 = {
						NOT = {
							is_owned_by = ROOT
							owner = {
								has_war_with = ROOT
							}
						}
					}
				}
			}
			has_army_manpower = {
				size > 2999999
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					728 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				country_event = { id = kmt.118 }
			}
			if = {
				limit = {
					729 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				country_event = { id = kmt.131 }
			}
			if = {
				limit = {
					326 = {
						NOT = {
							is_owned_by = ROOT
						}
					}
				}
				country_event = { id = kmt.144 }
			}
		}
	}
	
	##### United Kingdom of Great Britain and Northern Ireland #####
	
	focus = {
		id = KMT_closer_tie_with_eng
		icon = GFX_goal_chi_investor_eng
		mutually_exclusive = { focus = KMT_anti_ENG }
		prerequisite = { focus = KMT_invite_foreign_investors }
		relative_position_id = KMT_invite_foreign_investors
		x = 1
		y = 1
		cost = 30
		search_filters = { FOCUS_FILTER_POLITICAL }
		
		available = {
			OR = {
				has_government = neutrality
				is_in_faction_with = ENG
				ENG = {
					OR = {
						same_ideo_with_ROOT = yes
						has_government = neutrality
						has_opinion = {
							target = ROOT
							value > 94
						}
					}
					
				}
			}
			NOT = {
				has_war_with = ENG
			}
			ENG = {
				has_opinion = {
					target = ROOT
					value > -31
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
			}
			ENG = {
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		continue_if_invalid = yes
		
		completion_reward = {
			ENG = {
				country_event = { id = kmt.500 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				add_opinion_modifier = {
					modifier = KMT_offered_assistance
					target = ENG
				}
				diplomatic_relation = {
					country = ENG
					relation = non_aggression_pact
					active = yes
				}
				ENG = {
					add_opinion_modifier = {
						modifier = KMT_offered_assistance
						target = ROOT
					}
					diplomatic_relation = {
						country = ROOT
						relation = non_aggression_pact
						active = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_anti_ENG
		icon = GFX_goal_chi_expell_eng
		mutually_exclusive = { focus = KMT_closer_tie_with_eng }
		relative_position_id = KMT_closer_tie_with_eng
		x = 2
		y = 0
		cost = 30
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_political_power = 50
			reverse_add_opinion_modifier = {
				target = ENG
				modifier = minor_sanctions_relations
			}
			reverse_add_opinion_modifier = {
				target = RAJ
				modifier = minor_sanctions_relations
			}
			set_country_flag = nine_eng
		}
	}
	
	focus = {
		id = KMT_pursuade_britain
		icon = GFX_focus_generic_home_defense
		prerequisite = { focus = KMT_closer_tie_with_eng }
		relative_position_id = KMT_closer_tie_with_eng
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL}
		
		available = {
			has_defensive_war_with = JAP
			ENG = { 
				has_completed_focus = ENG_global_defense
				has_idea = KMT_assistance_to_CHI
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
			hidden_trigger = {
				OR = {
					AND = {
						is_ai = yes
						is_historical_focus_on = no
					}
					is_ai = no
				}
			}
		}
		
		bypass = {
			ENG = { has_war_with = JAP }
		}
		
		completion_reward = {
			ENG = { country_event = { id = kmt.249 }}
		}
	}
	
	focus = {
		id = KMT_the_burma_road
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = KMT_closer_tie_with_eng }
		relative_position_id = KMT_closer_tie_with_eng
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_INDUSTRY}
		
		available = {
			288 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					CONTROLLER = {
						is_in_faction_with = ENG
					}
				}
			}
			640 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					CONTROLLER = {
						is_in_faction_with = ENG
					}
				}
			}
			325 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					CONTROLLER = {
						is_in_faction_with = ENG
					}
				}
			}
			747 = {
				OR = {
					is_controlled_by_ROOT_or_ally = yes
					CONTROLLER = {
						is_in_faction_with = ENG
					}
				}
			}
			NOT = {
				has_war_with = ENG
			}
			ENG = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		cancel_if_invalid = no
		
		completion_reward = {
			747 = {
				set_state_flag = CHI_needed_for_burma_road
				if = {
					limit = { 
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
				}
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
					if = {
						limit = {
							747 = {
								owner = { NOT = { tag = ROOT }}
							}
						}
						747 = {
							owner = {
								country_event = { id = kmt.523 }
							}
						}
					}
				}
			}
		
			288 = { set_state_flag = CHI_needed_for_burma_road } 
			
			640 = { set_state_flag = CHI_needed_for_burma_road } 
			
			325 = { set_state_flag = CHI_needed_for_burma_road } 
			
			set_variable = { CHI_burma_road_current_level = 3 }
			add_to_variable = { global.CHI_burma_road_current_level = 3 }
			add_offsite_building = { type = arms_factory level = 3 }
			
			set_country_flag = CHI_burma_road_completed
			
			if = {
				limit = {
					NOT = { has_global_flag = CHI_burma_road_completed }
				}
				set_global_flag = CHI_burma_road_completed
			}
		}
	}
	
	focus = {
		id = KMT_mountaineers_training
		icon = GFX_focus_RAJ_indian_gurkhas
		prerequisite = { focus = KMT_yunnan_bahn focus = KMT_the_burma_road }
		relative_position_id = KMT_the_burma_road
		x = -1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			army_experience = 10
			if = {
				limit = {
					NOT = { has_tech = tech_mountaineers }
				}
				set_technology = { tech_mountaineers = 1 }
				else = {
					add_tech_bonus = {
						name = KMT_mountaineers_training
						bonus = 0.5
						uses = 1
						category = mountaineers_tech
					}
				}
			}
			custom_effect_tooltip = KMT_elite_mountaineers_tt
			hidden_effect = {
				division_template = {
					name = "Shan Di Shi"
					regiments = {
						mountaineers = { x = 0 y = 0 } 
						mountaineers = { x = 0 y = 1 } 
						mountaineers = { x = 0 y = 2 } 
						mountaineers = { x = 1 y = 0 } 
						mountaineers = { x = 1 y = 1 } 
						mountaineers = { x = 1 y = 2 }
					}
					support = {
						DIV_HQ = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					prioritize = { 613 }
					create_unit = { 
						division = "name = \"Shan Di Shi\" division_template = \"Shan Di Shi\" start_experience_factor = 0.75 start_equipment_factor = 1"
						owner = ROOT
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_british_training
		icon = GFX_focus_RAJ_lions_of_the_great_war
		prerequisite = { focus = KMT_the_burma_road }
		relative_position_id = KMT_the_burma_road
		x = 0
		y = 4
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		available = {
			NOT = {
				has_war_with = ENG
			}
			ENG = {
				has_idea = KMT_assistance_to_CHI
				has_opinion = {
					target = ROOT
					value > 0
				}
				exists = yes
				has_capitulated = no
				is_puppet = no
				custom_trigger_tooltip = {
					tooltip = KMT_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_CHI = yes
				}
			}
		}
		
		completion_reward = {
			army_experience = 10
			add_timed_idea = {
				idea = KMT_training_in_india
				days = 30
			}
			custom_effect_tooltip = KMT_joint_burma_def_agreement_tt
			hidden_effect = {
				country_event = { id = kmt.554 days = 30 }
			}
		}
	}
	
	focus = {
		id = KMT_setup_camco_assembly_plants
		icon = GFX_goal_eng_air_rearm
		prerequisite = { focus = KMT_the_burma_road }
		relative_position_id = KMT_the_burma_road
		x = 1
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_AIRFORCE}
		
		completion_reward = {
			if = {
				limit = {
					OR = {
						has_idea = incompetent_industry_real
						has_idea = incompetent_industry_fake
					}
				}
				add_tech_bonus = {
					name = KMT_setup_camco_assembly_plants
					bonus = 0.25
					uses = 1
					category = air_equipment
				}
				add_ideas = KMT_camco_assembly_plants_1
				else = {
					if = {
						limit = {
							has_idea = incompetent_industry_real_2
						}
						add_tech_bonus = {
							name = KMT_setup_camco_assembly_plants
							bonus = 0.25
							uses = 1
							category = air_equipment
						}
						add_ideas = KMT_camco_assembly_plants_2
						else = {
							if = {
								limit = {
									has_idea = incompetent_industry_real_3
								}
								add_tech_bonus = {
									name = KMT_setup_camco_assembly_plants
									bonus = 0.25
									uses = 1
									category = air_equipment
								}
								add_ideas = KMT_camco_assembly_plants_3
								else = {
									if = {
										limit = {
											has_idea = incompetent_industry_real_4
										}
										add_tech_bonus = {
											name = KMT_setup_camco_assembly_plants
											bonus = 0.25
											uses = 1
											category = air_equipment
										}
										add_ideas = KMT_camco_assembly_plants_4
										else = {
											add_tech_bonus = {
												name = KMT_setup_camco_assembly_plants
												bonus = 0.5
												uses = 1
												category = air_equipment
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = KMT_army_reform
		icon = GFX_focus_generic_little_entente
		# prerequisite = { focus = KMT_FOCUS_ON_CENTRAL_ARMY focus = KMT_INTEGRATE_WARLORD_FORCES }
		relative_position_id = CHI_military_affairs_commission
		x = 3
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		completion_reward = {
			unlock_decision_tooltip = KMT_extensive_drilling
			unlock_decision_tooltip = KMT_tighten_up_recruitment_standard
			unlock_decision_tooltip = KMT_officer_reshuffle
		}
	}
	
	focus = {
		id = CHI_war_of_resistance
		icon = GFX_goal_generic_military_sphere
		relative_position_id = KMT_national_defense_council
		x = 0
		y = 10
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_war_with_major = yes
			has_offensive_war = no		
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		bypass = {
			has_offensive_war_with = JAP
		}
		
		completion_reward = {
			add_ideas = CHI_war_of_resistance
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.55
				uses = 1
				category = cat_guerilla_warfare
			}
		}
	}
	
	focus = {
		id = CHI_new_warfare
		icon = GFX_focus_generic_provoke_border_clashes
		prerequisite = { focus = CHI_war_of_resistance }
		relative_position_id = CHI_war_of_resistance
		x = -1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_war = yes
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.65
				uses = 1
				category = cat_guerilla_warfare
			}		
		}
	}
	
	focus = {
		id = CHI_dirty_tricks
		icon = GFX_focus_prc_infiltration
		prerequisite = { focus = CHI_new_warfare }
		relative_position_id = CHI_new_warfare
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_ARMY }
		
		available = {
			has_war = yes
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_tech_bonus = {
				name = land_doc_bonus
				bonus = 0.75
				uses = 1
				category = cat_guerilla_warfare
			}		
		}
	}
	
	focus = {
		id = CHI_scorched_earth_tactics
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = CHI_war_of_resistance }
		relative_position_id = CHI_war_of_resistance
		x = 1
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE }
		
		available = {
			has_war = yes
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			unlock_decision_tooltip = CHI_scorched_earth_tactics			
		}
	}
	
	focus = {
		id = CHI_dams
		icon = GFX_focus_hol_prepare_the_inundation_lines
		prerequisite = { focus = CHI_scorched_earth_tactics }
		relative_position_id = CHI_scorched_earth_tactics
		x = 0
		y = 1
		cost = 50
		search_filters = { FOCUS_FILTER_FRA_POLITICAL_VIOLENCE}
		
		available = {
			has_war = yes
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			unlock_decision_tooltip = CHI_flood_dams
		}
	}
	
	focus = {
		id = CHI_military_affairs_commission
		icon = GFX_focus_secret_rearmament
		relative_position_id = CHI_war_of_resistance
		x = 5
		y = 0
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY FOCUS_FILTER_CP}
		
		allow_branch = {
			has_dlc = "Waking the Tiger"
		}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_ideas = CHI_military_affairs_commission
		}
	}
	
	focus = {
		id = CHI_fortify_shanghai
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = CHI_military_affairs_commission }
		relative_position_id = CHI_military_affairs_commission
		x = -2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION }
		
		available = {
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 613
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 613 }
				613 = { # Shanghai
					add_building_construction = {
						type = bunker
						province = {
							id = 11913 #Nanjing
							id = 11982 #Nothing
							id = 10076 #Airbase
							id = 12052
							id = 7014 #Shanghai
						}
						level = 2
						instant_build = yes
					}
					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 3
								building = bunker
							}
						}
						set_building_level = {
							type = bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 3
							instant_build = yes
						}
					}
					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 2
								building = coastal_bunker
							}
						}
						set_building_level = {
							type = coastal_bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 2
							instant_build = yes
						}
					}
				}
			}
			#If not full control, only add forts in provinces bordering the enemy
			#Only time to throw up some emergency stuff
			else = {
				613 = {
					add_building_construction = {
						type = bunker
						province = {
							all_provinces = yes
							limit_to_border = yes
						}
						level = 1
						instant_build = yes
					}
				}
			}
		}
	}
	
	focus = {
		id = CHI_the_chinese_hindenburg_line
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = CHI_fortify_shanghai }
		relative_position_id = CHI_military_affairs_commission
		x = -2
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_FORTIFICATION}
		
		available = {
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 613
				}
			}
			NOT = {
				any_enemy_country = {
					has_full_control_of_state = 606
				}
			}
		}
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			if = {
				limit = { has_full_control_of_state = 613 }
				613 = { # Shanghai
					set_building_level = {
						type = bunker
						province = {
							id = 11913 #Nanjing
							id = 11982 #Nothing
							id = 10076 #Airbase
							id = 12052
							id = 7014 #Shanghai
						}
						level = 3
						instant_build = yes
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 4
								building = bunker
							}
						}
						set_building_level = {
							type = bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 4
							instant_build = yes
						}
					}

					if = {
						limit = {
							any_province_building_level = {
								province = {
									id = 7014 #Shanghai
								}
								level < 3
								building = coastal_bunker
							}
						}
						set_building_level = {
							type = coastal_bunker
							province = {
								id = 7014 #Shanghai
							}
							level = 3
							instant_build = yes
						}
					}					
				}

			}
			#If not full control, only add forts in provinces bordering the enemy
			#Only time to throw up some emergency stuff
			else = {
					613 = {
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_border = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}			

			if = {
				limit = { has_full_control_of_state = 606 }
				606 = { # Anhui
					set_building_level = {
						type = bunker
						province = {
							id = 1099
							id = 1171
							id = 11937
							id = 10044
						}
						level = 2
						instant_build = yes
					}								
				}

				#If not full control, only add forts in provinces bordering the enemy
				#Only time to throw up some emergency stuff

			}
				else = {
					606 = {
						add_building_construction = {
							type = bunker
							province = {
								all_provinces = yes
								limit_to_border = yes
							}
							level = 1
							instant_build = yes
						}
					}
				}
			if = {
				limit = { has_full_control_of_state = 600 }
				600 = { # Jiangxi
					set_building_level = {
						type = bunker
						province = {
							id = 1153
						}
						level = 2
						instant_build = yes
					}								
				}
			}
		}
	}
	
	focus = {
		id = CHI_army_reform
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = CHI_military_affairs_commission }
		relative_position_id = CHI_military_affairs_commission
		x = 0
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			unlock_decision_category_tooltip = CHI_army_reform
		}
	}
	
	focus = {
		id = CHI_bureau_of_investigation_and_statistics
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = CHI_military_affairs_commission }
		relative_position_id = CHI_military_affairs_commission
		x = 2
		y = 1
		cost = 70
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY}
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			add_stability = 0.1
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = CHI_dai_li
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				if = {
					limit = {
						has_intelligence_agency = no
					}
					create_intelligence_agency = yes
				}
				else = {
					upgrade_intelligence_agency = upgrade_passive_defense
				}
			}
		}
	}
	
	focus = {
		id = CHI_60_divisions_plan
		icon = GFX_goal_generic_axis_build_infantry
		prerequisite = { focus = CHI_army_reform }
		relative_position_id = CHI_military_affairs_commission
		x = 0
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			unlock_decision_tooltip = CHI_60_divisions_plan
		}
	}
	
	focus = {
		id = CHI_whampoa_military_academy
		icon = GFX_focus_chi_whampoa_military_academy
		prerequisite = { focus = CHI_bureau_of_investigation_and_statistics }
		relative_position_id = CHI_military_affairs_commission
		x = 2
		y = 2
		cost = 70
		search_filters = { FOCUS_FILTER_ARMY }
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		completion_reward = {
			every_army_leader = {
				add_planning = 1
			}
			add_ideas = CHI_whampoa_military_academy
		}
	}
	
	focus = {
		id = KMT_monetary_reform
		icon = GFX_goal_generic_consumer_goods
		# relative_position_id = ????????
		x = 75
		y = 0
		offset = {
			x = -23
			y = 0
			trigger = {
				is_historical_focus_on = yes
			}
		}
		cost = 245
		search_filters = { FOCUS_FILTER_INDUSTRY }
		
		available = {
			has_war = no
			#has_idea = KMT_jinyuanquan_inflation
		}
		
		completion_reward = {
			if = {
				limit = {
					has_idea = KMT_jinyuanquan_inflation
				}			
				remove_ideas = KMT_jinyuanquan_inflation
			}
			if = {
				limit = {
					OR = {
						has_idea = KMT_corrupted_government
						has_idea = KMT_corrupted_government_lesser
					}
				}
				add_ideas = civilian_economy
			}
			if = {
				limit = {
					has_idea = KMT_corrupted_government_wartime
				}
				add_ideas = partial_economic_mobilisation
			}
		}
	}

}